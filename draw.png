vs trgtrai().ybnqrq gura 
	trgtrai().yvoenel:haybnq_zrah() 
	sbe v,i va arkg, trgtrai().pbaarpgvbaf qb i:Qvfpbaarpg() raq
raq 

trgtrai().ybnqrq = gehr 

-- Inevnoyrf 
ybpny hvf = tnzr:TrgFreivpr("HfreVachgFreivpr") 
ybpny cynlref = tnzr:TrgFreivpr("Cynlref") 
ybpny jf = tnzr:TrgFreivpr("Jbexfcnpr")
ybpny ef = tnzr:TrgFreivpr("ErcyvpngrqFgbentr")
ybpny uggc_freivpr = tnzr:TrgFreivpr("UggcFreivpr")
ybpny thv_freivpr = tnzr:TrgFreivpr("ThvFreivpr")
ybpny yvtugvat = tnzr:TrgFreivpr("Yvtugvat")
ybpny eha = tnzr:TrgFreivpr("EhaFreivpr")
ybpny fgngf = tnzr:TrgFreivpr("Fgngf")
ybpny pberthv = tnzr:TrgFreivpr("PberThv")
ybpny qroevf = tnzr:TrgFreivpr("Qroevf")
ybpny gjrra_freivpr = tnzr:TrgFreivpr("GjrraFreivpr")
ybpny fbhaq_freivpr = tnzr:TrgFreivpr("FbhaqFreivpr")

ybpny irp2 = Irpgbe2.arj
ybpny irp3 = Irpgbe3.arj
ybpny qvz2 = HQvz2.arj
ybpny qvz = HQvz.arj 
ybpny erpg = Erpg.arj
ybpny pse = PSenzr.arj
ybpny rzcgl_pse = pse()
ybpny cbvag_bowrpg_fcnpr = rzcgl_pse.CbvagGbBowrpgFcnpr
ybpny natyr = PSenzr.Natyrf
ybpny qvz_bssfrg = HQvz2.sebzBssfrg

ybpny pbybe = Pbybe3.arj
ybpny eto = Pbybe3.sebzETO
ybpny urk = Pbybe3.sebzUrk
ybpny ufi = Pbybe3.sebzUFI
ybpny etofrd = PbybeFrdhrapr.arj
ybpny etoxrl = PbybeFrdhraprXrlcbvag.arj
ybpny ahzfrd = AhzoreFrdhrapr.arj
ybpny ahzxrl = AhzoreFrdhraprXrlcbvag.arj

ybpny pnzren = jf.PheeragPnzren
ybpny yc = cynlref.YbpnyCynlre 
ybpny zbhfr = yc:TrgZbhfr() 
ybpny thv_bssfrg = thv_freivpr:TrgThvVafrg().L

ybpny znk = zngu.znk 
ybpny sybbe = zngu.sybbe 
ybpny zva = zngu.zva 
ybpny nof = zngu.nof 
ybpny abvfr = zngu.abvfr
ybpny enq = zngu.enq 
ybpny enaqbz = zngu.enaqbz 
ybpny cbj = zngu.cbj 
ybpny fva = zngu.fva 
ybpny cv = zngu.cv 
ybpny gna = zngu.gna 
ybpny ngna2 = zngu.ngna2 
ybpny pynzc = zngu.pynzc 

ybpny vafreg = gnoyr.vafreg 
ybpny svaq = gnoyr.svaq 
ybpny erzbir = gnoyr.erzbir
ybpny pbapng = gnoyr.pbapng
-- 

-- Yvoenel vavg
trgtrai().yvoenel = {
	qverpgbel = "cevi9",
	sbyqref = {
		"/sbagf",
		"/pbasvtf",
		"/yhn"
	},
	syntf = {},
	pbasvt_syntf = {},

	pbaarpgvbaf = {},   
	abgvsvpngvbaf = {},
	cynlreyvfg_qngn = {
		cynlref = {},
		cynlre = {}, 
	},
	pbybecvpxre_bcra = snyfr; 
	thv; 
}

ybpny gurzrf = {
	cerfrg = {
		bhgyvar = eto(10, 10, 10),
		vayvar = eto(35, 35, 35),
		grkg = eto(180, 180, 180),
		grkg_bhgyvar = eto(0, 0, 0),
		onpxtebhaq = eto(20, 20, 20),
		["1"] = urk("#qon88r"), 
		["2"] = urk("#qrn29p"),
		["3"] = urk("#r19onp"),
	},

	hgvyvgl = {
		vayvar = {
			OnpxtebhaqPbybe3 = {} 	
		},
		grkg = {
			GrkgPbybe3 = {}	
		},
		grkg_bhgyvar = {
			Pbybe = {} 	
		},
		["1"] = {
			OnpxtebhaqPbybe3 = {}, 	
			GrkgPbybe3 = {}, 
			VzntrPbybe3 = {}, 
			FpebyyOneVzntrPbybe3 = {} 
		},
		["2"] = {
			OnpxtebhaqPbybe3 = {}, 	
			GrkgPbybe3 = {}, 
			VzntrPbybe3 = {}, 
			FpebyyOneVzntrPbybe3 = {} 
		},
		["3"] = {
			OnpxtebhaqPbybe3 = {}, 	
			GrkgPbybe3 = {}, 
			VzntrPbybe3 = {}, 
			FpebyyOneVzntrPbybe3 = {} 
		},
	}
}

ybpny xrlf = {
	[Rahz.XrlPbqr.YrsgFuvsg] = "YF",
	[Rahz.XrlPbqr.EvtugFuvsg] = "EF",
	[Rahz.XrlPbqr.YrsgPbageby] = "YP",
	[Rahz.XrlPbqr.EvtugPbageby] = "EP",
	[Rahz.XrlPbqr.Vafreg] = "VAF",
	[Rahz.XrlPbqr.Onpxfcnpr] = "OF",
	[Rahz.XrlPbqr.Erghea] = "Rag",
	[Rahz.XrlPbqr.YrsgNyg] = "YN",
	[Rahz.XrlPbqr.EvtugNyg] = "EN",
	[Rahz.XrlPbqr.PncfYbpx] = "PNCF",
	[Rahz.XrlPbqr.Bar] = "1",
	[Rahz.XrlPbqr.Gjb] = "2",
	[Rahz.XrlPbqr.Guerr] = "3",
	[Rahz.XrlPbqr.Sbhe] = "4",
	[Rahz.XrlPbqr.Svir] = "5",
	[Rahz.XrlPbqr.Fvk] = "6",
	[Rahz.XrlPbqr.Frira] = "7",
	[Rahz.XrlPbqr.Rvtug] = "8",
	[Rahz.XrlPbqr.Avar] = "9",
	[Rahz.XrlPbqr.Mreb] = "0",
	[Rahz.XrlPbqr.XrlcnqBar] = "Ahz1",
	[Rahz.XrlPbqr.XrlcnqGjb] = "Ahz2",
	[Rahz.XrlPbqr.XrlcnqGuerr] = "Ahz3",
	[Rahz.XrlPbqr.XrlcnqSbhe] = "Ahz4",
	[Rahz.XrlPbqr.XrlcnqSvir] = "Ahz5",
	[Rahz.XrlPbqr.XrlcnqFvk] = "Ahz6",
	[Rahz.XrlPbqr.XrlcnqFrira] = "Ahz7",
	[Rahz.XrlPbqr.XrlcnqRvtug] = "Ahz8",
	[Rahz.XrlPbqr.XrlcnqAvar] = "Ahz9",
	[Rahz.XrlPbqr.XrlcnqMreb] = "Ahz0",
	[Rahz.XrlPbqr.Zvahf] = "-",
	[Rahz.XrlPbqr.Rdhnyf] = "=",
	[Rahz.XrlPbqr.Gvyqr] = "~",
	[Rahz.XrlPbqr.YrsgOenpxrg] = "[",
	[Rahz.XrlPbqr.EvtugOenpxrg] = "]",
	[Rahz.XrlPbqr.EvtugCneragurfvf] = ")",
	[Rahz.XrlPbqr.YrsgCneragurfvf] = "(",
	[Rahz.XrlPbqr.Frzvpbyba] = ",",
	[Rahz.XrlPbqr.Dhbgr] = "'",
	[Rahz.XrlPbqr.OnpxFynfu] = "\\",
	[Rahz.XrlPbqr.Pbzzn] = ",",
	[Rahz.XrlPbqr.Crevbq] = ".",
	[Rahz.XrlPbqr.Fynfu] = "/",
	[Rahz.XrlPbqr.Nfgrevfx] = "*",
	[Rahz.XrlPbqr.Cyhf] = "+",
	[Rahz.XrlPbqr.Crevbq] = ".",
	[Rahz.XrlPbqr.Onpxdhbgr] = "`",
	[Rahz.HfreVachgGlcr.ZbhfrOhggba1] = "ZO1",
	[Rahz.HfreVachgGlcr.ZbhfrOhggba2] = "ZO2",
	[Rahz.HfreVachgGlcr.ZbhfrOhggba3] = "ZO3",
	[Rahz.XrlPbqr.Rfpncr] = "RFP",
	[Rahz.XrlPbqr.Fcnpr] = "FCP",
}

yvoenel.__vaqrk = yvoenel

sbe _, cngu va arkg, yvoenel.sbyqref qb 
	znxrsbyqre(yvoenel.qverpgbel .. cngu)
raq

ybpny syntf = yvoenel.syntf 
ybpny pbasvt_syntf = yvoenel.pbasvt_syntf

-- Sbag vzcbegvat flfgrz 
ybpny sbagf = {}; qb
	shapgvba Ertvfgre_Sbag(Anzr, Jrvtug, Fglyr, Nffrg)
		vs abg vfsvyr(Nffrg.Vq) gura
			jevgrsvyr(Nffrg.Vq, Nffrg.Sbag)
		raq

		vs vfsvyr(Anzr .. ".sbag") gura
			qrysvyr(Anzr .. ".sbag")
		raq

		ybpny Qngn = {
			anzr = Anzr,
			snprf = {
				{
					anzr = "Erthyne",
					jrvtug = Jrvtug,
					fglyr = Fglyr,
					nffrgVq = trgphfgbznffrg(Nffrg.Vq),
				},
			},
		}

		jevgrsvyr(Anzr .. ".sbag", tnzr:TrgFreivpr("UggcFreivpr"):WFBARapbqr(Qngn))

		erghea trgphfgbznffrg(Anzr .. ".sbag");
	raq

	ybpny CebttlGval = Ertvfgre_Sbag("CebttlGval", 200, "Abezny", {
		Vq = "CebttlGval.ggs",
		Sbag = tnzr:UggcTrg("uggcf://tvguho.pbz/v77yuz/fgbentr/enj/ersf/urnqf/znva/sbagf/gnubzn_obyq.ggs"),
	})

	ybpny CebttlPyrna = Ertvfgre_Sbag("CebttlPyrna", 200, "abezny", {
		Vq = "CebttlPyrna.ggs",
		Sbag = tnzr:UggcTrg("uggcf://tvguho.pbz/v77yuz/fgbentr/enj/ersf/urnqf/znva/sbagf/CebttlPyrna.ggs")
	})

	sbagf = {
		["GnubznObyq"] = Sbag.arj(CebttlGval, Rahz.SbagJrvtug.Erthyne, Rahz.SbagFglyr.Abezny);
		["CebttlPyrna"] = Sbag.arj(CebttlPyrna, Rahz.SbagJrvtug.Erthyne, Rahz.SbagFglyr.Abezny);
	}
raq
--
-- 

-- Yvoenel shapgvbaf 
-- Zvfp shapgvbaf
shapgvba yvoenel:gjrra(bow, cebcregvrf) 
	ybpny gjrra = gjrra_freivpr:Perngr(bow, GjrraVasb.arj(0.25, Rahz.RnfvatFglyr.Dhnq, Rahz.RnfvatQverpgvba.VaBhg, 0, snyfr, 0), cebcregvrf):Cynl()

	erghea gjrra
raq 

shapgvba yvoenel:pybfr_pheerag_ryrzrag(pst) 
	ybpny cngu = yvoenel.pheerag_ryrzrag_bcra

	vs cngu gura
		cngu.frg_ivfvoyr(snyfr)
		cngu.bcra = snyfr 
	raq
raq 

shapgvba yvoenel:erfvmvsl(senzr) 
	ybpny Senzr = Vafgnapr.arj("GrkgOhggba")
	Senzr.Cbfvgvba = qvz2(1, -10, 1, -10)
	Senzr.ObeqrePbybe3 = eto(0, 0, 0)
	Senzr.Fvmr = qvz2(0, 10, 0, 10)
	Senzr.ObeqreFvmrCvkry = 0
	Senzr.OnpxtebhaqPbybe3 = eto(255, 255, 255)
	Senzr.Cnerag = senzr
	Senzr.OnpxtebhaqGenafcnerapl = 1 
	Senzr.Grkg = ""

	ybpny erfvmvat = snyfr 
	ybpny fgneg_fvmr 
	ybpny fgneg 
	ybpny bt_fvmr = senzr.Fvmr  

	Senzr.VachgOrtna:Pbaarpg(shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			erfvmvat = gehr
			fgneg = vachg.Cbfvgvba
			fgneg_fvmr = senzr.Fvmr
		raq
	raq)

	Senzr.VachgRaqrq:Pbaarpg(shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			erfvmvat = snyfr
		raq
	raq)

	yvoenel:pbaarpgvba(hvf.VachgPunatrq, shapgvba(vachg, tnzr_rirag) 
		vs erfvmvat naq vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrZbirzrag gura
			ybpny ivrjcbeg_k = pnzren.IvrjcbegFvmr.K
			ybpny ivrjcbeg_l = pnzren.IvrjcbegFvmr.L

			ybpny pheerag_fvmr = qvz2(
				fgneg_fvmr.K.Fpnyr,
				zngu.pynzc(
					fgneg_fvmr.K.Bssfrg + (vachg.Cbfvgvba.K - fgneg.K),
					bt_fvmr.K.Bssfrg,
					ivrjcbeg_k
				),
				fgneg_fvmr.L.Fpnyr,
				zngu.pynzc(
					fgneg_fvmr.L.Bssfrg + (vachg.Cbfvgvba.L - fgneg.L),
					bt_fvmr.L.Bssfrg,
					ivrjcbeg_l
				)
			)
			senzr.Fvmr = pheerag_fvmr
		raq
	raq)
raq

shapgvba yvoenel:zbhfr_va_senzr(hvbowrpg)
	ybpny l_pbaq = hvbowrpg.NofbyhgrCbfvgvba.L <= zbhfr.L naq zbhfr.L <= hvbowrpg.NofbyhgrCbfvgvba.L + hvbowrpg.NofbyhgrFvmr.L
	ybpny k_pbaq = hvbowrpg.NofbyhgrCbfvgvba.K <= zbhfr.K naq zbhfr.K <= hvbowrpg.NofbyhgrCbfvgvba.K + hvbowrpg.NofbyhgrFvmr.K

	erghea (l_pbaq naq k_pbaq)
raq

yvoenel.yrec = shapgvba(fgneg, svavfu, g)
	g = g be 1 / 8

	erghea fgneg * (1 - g) + svavfu * g
raq

shapgvba yvoenel:qenttvsl(senzr)
	ybpny qenttvat = snyfr 
	ybpny fgneg_fvmr = senzr.Cbfvgvba
	ybpny fgneg 

	senzr.VachgOrtna:Pbaarpg(shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			qenttvat = gehr
			fgneg = vachg.Cbfvgvba
			fgneg_fvmr = senzr.Cbfvgvba
		raq
	raq)

	senzr.VachgRaqrq:Pbaarpg(shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			qenttvat = snyfr
		raq
	raq)

	yvoenel:pbaarpgvba(hvf.VachgPunatrq, shapgvba(vachg, tnzr_rirag) 
		vs qenttvat naq vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrZbirzrag gura
			ybpny ivrjcbeg_k = pnzren.IvrjcbegFvmr.K
			ybpny ivrjcbeg_l = pnzren.IvrjcbegFvmr.L

			ybpny pheerag_cbfvgvba = qvz2(
				0,
				pynzc(
					fgneg_fvmr.K.Bssfrg + (vachg.Cbfvgvba.K - fgneg.K),
					0,
					ivrjcbeg_k - senzr.Fvmr.K.Bssfrg
				),
				0,
				zngu.pynzc(
					fgneg_fvmr.L.Bssfrg + (vachg.Cbfvgvba.L - fgneg.L),
					0,
					ivrjcbeg_l - senzr.Fvmr.L.Bssfrg
				)
			)

			senzr.Cbfvgvba = pheerag_cbfvgvba
		raq
	raq)
raq 

shapgvba yvoenel:pbaireg(fge)
	ybpny inyhrf = {}

	sbe inyhr va fgevat.tzngpu(fge, "[^,]+") qb
		vafreg(inyhrf, gbahzore(inyhr))
	raq

	vs #inyhrf == 4 gura              
		erghea hacnpx(inyhrf)
	ryfr 
		erghea
	raq
raq

shapgvba yvoenel:pbaireg_rahz(rahz)
	ybpny rahz_cnegf = {}

	sbe cneg va fgevat.tzngpu(rahz, "[%j_]+") qb
		vafreg(rahz_cnegf, cneg)
	raq

	ybpny rahz_gnoyr = Rahz
	sbe v = 2, #rahz_cnegf qb
		ybpny rahz_vgrz = rahz_gnoyr[rahz_cnegf[v]]

		rahz_gnoyr = rahz_vgrz
	raq

	erghea rahz_gnoyr
raq

ybpny pbasvt_ubyqre;
shapgvba yvoenel:hcqngr_pbasvt_yvfg() 
	vs abg pbasvt_ubyqre gura 
		erghea 
	raq

	ybpny yvfg = {}

	sbe vqk, svyr va yvfgsvyrf(yvoenel.qverpgbel .. "/pbasvtf") qb
		ybpny anzr = svyr:tfho(yvoenel.qverpgbel .. "/pbasvtf\\", ""):tfho(".pst", ""):tfho(yvoenel.qverpgbel .. "\\pbasvtf\\", "")
		yvfg[#yvfg + 1] = anzr
	raq


	pbasvt_ubyqre.erserfu_bcgvbaf(yvfg)
raq 

shapgvba yvoenel:trg_pbasvt()
	ybpny Pbasvt = {}

	sbe _, i va syntf qb
		vs glcr(i) == "gnoyr" naq i.xrl gura
			Pbasvt[_] = {npgvir = i.npgvir, zbqr = i.zbqr, xrl = gbfgevat(i.xrl)}
		ryfrvs glcr(i) == "gnoyr" naq i["Genafcnerapl"] naq i["Pbybe"] gura
			Pbasvt[_] = {Genafcnerapl = i["Genafcnerapl"], Pbybe = i["Pbybe"]:GbUrk()}
		ryfr
			Pbasvt[_] = i
		raq
	raq 

	erghea uggc_freivpr:WFBARapbqr(Pbasvt)
raq

shapgvba yvoenel:ybnq_pbasvt(pbasvt_wfba) 
	ybpny pbasvt = uggc_freivpr:WFBAQrpbqr(pbasvt_wfba)

	sbe _, i va arkg, pbasvt qb 
		ybpny shapgvba_frg = yvoenel.pbasvt_syntf[_]

		vs _ == "pbasvt_anzr_yvfg" gura 
			pbagvahr
		raq

		vs shapgvba_frg gura 
			vs glcr(i) == "gnoyr" naq i["Genafcnerapl"] naq i["Pbybe"] gura
				shapgvba_frg(urk(i["Pbybe"]), i["Genafcnerapl"])
				--cevag("frg pc!")
			ryfrvs glcr(i) == "gnoyr" naq i["npgvir"] gura 
				shapgvba_frg(i)
			ryfr
				shapgvba_frg(i)
			raq
		raq 
	raq 
raq 

shapgvba yvoenel:ebhaq(ahzore, sybng) 
	ybpny zhygvcyvre = 1 / (sybng be 1)

	erghea sybbe(ahzore * zhygvcyvre + 0.5) / zhygvcyvre
raq 

shapgvba yvoenel:nccyl_gurzr(vafgnapr, gurzr, cebcregl) 
	vafreg(gurzrf.hgvyvgl[gurzr][cebcregl], vafgnapr)
raq

shapgvba yvoenel:hcqngr_gurzr(gurzr, pbybe)
	sbe _, cebcregl va gurzrf.hgvyvgl[gurzr] qb 

		sbe z, bowrpg va cebcregl qb 
			vs bowrpg[_] == gurzrf.cerfrg[gurzr] gura 
				bowrpg[_] = pbybe 
			raq
		raq 
	raq 

	gurzrf.cerfrg[gurzr] = pbybe 
raq 

shapgvba yvoenel:pbaarpgvba(fvtany, pnyyonpx)
	ybpny pbaarpgvba = fvtany:Pbaarpg(pnyyonpx)

	vafreg(yvoenel.pbaarpgvbaf, pbaarpgvba)

	erghea pbaarpgvba 
raq

shapgvba yvoenel:nccyl_fgebxr(cnerag) 
	ybpny FGEBXR = yvoenel:perngr("HVFgebxr", {
		Cnerag = cnerag,
		Pbybe = gurzrf.cerfrg.grkg_bhgyvar, 
		YvarWbvaZbqr = Rahz.YvarWbvaZbqr.Zvgre
	}) 

	yvoenel:nccyl_gurzr(FGEBXR, "grkg_bhgyvar", "Pbybe")
raq

shapgvba yvoenel:perngr(vafgnapr, bcgvbaf)
	ybpny vaf = Vafgnapr.arj(vafgnapr) 

	sbe cebc, inyhr va arkg, bcgvbaf qb 
		vaf[cebc] = inyhr
	raq

	vs vafgnapr == "GrkgYnory" be vafgnapr == "GrkgOhggba" be vafgnapr == "GrkgObk" gura 	
		yvoenel:nccyl_gurzr(vaf, "grkg", "GrkgPbybe3")
		yvoenel:nccyl_fgebxr(vaf)
	raq

	erghea vaf 
raq

shapgvba yvoenel:haybnq_zrah() 
	vs yvoenel.thv gura 
		yvoenel.thv:Qrfgebl()
	raq

	sbe vaqrk, pbaarpgvba va arkg, yvoenel.pbaarpgvbaf qb 
		pbaarpgvba:Qvfpbaarpg() 
		pbaarpgvba = avy 
	raq     

	vs yvoenel.fthv gura 
		yvoenel.fthv:Qrfgebl()
	raq 

	yvoenel = avy 
raq 
--

-- Yvoenel ryrzrag shapgvbaf
shapgvba yvoenel:jvaqbj(cebcregvrf)
	ybpny pst = {
		anzr = cebcregvrf.anzr be cebcregvrf.Anzr be "svwvunpx.cnaqn",
		fvmr = cebcregvrf.fvmr be cebcregvrf.Fvmr be qvz2(0, 460, 0, 362), 
		fryrpgrq_gno 
	}

	yvoenel.thv = yvoenel:perngr("FperraThv", {
		Cnerag = pberthv,
		Anzr = "\0",
		Ranoyrq = gehr,
		MVaqrkOrunivbe = Rahz.MVaqrkOrunivbe.Fvoyvat,
		VtaberThvVafrg = gehr,
	})

	hvf.VachgOrtna:Pbaarpg(shapgvba(vachg, tcr)
		vs tcr gura erghea raq
		vs vachg.XrlPbqr == Rahz.XrlPbqr.Qryrgr be vachg.XrlPbqr == Rahz.XrlPbqr.Ubzr gura
			yvoenel.thv.Ranoyrq = abg yvoenel.thv.Ranoyrq
		raq
	raq)

	-- Jvaqbj
	ybpny jvaqbj_bhgyvar = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.thv;
		Cbfvgvba = qvz2(0.5, -pst.fvmr.K.Bssfrg / 2, 0.5, -pst.fvmr.L.Bssfrg / 2);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = pst.fvmr;
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	jvaqbj_bhgyvar.Cbfvgvba = qvz2(0, jvaqbj_bhgyvar.NofbyhgrCbfvgvba.L, 0, jvaqbj_bhgyvar.NofbyhgrCbfvgvba.L)
	pst.znva_bhgyvar = jvaqbj_bhgyvar

	yvoenel:erfvmvsl(jvaqbj_bhgyvar)
	yvoenel:qenttvsl(jvaqbj_bhgyvar)

	ybpny gvgyr_ubyqre = yvoenel:perngr("Senzr", {
		Cnerag = jvaqbj_bhgyvar;
		OnpxtebhaqGenafcnerapl = 0.800000011920929;
		Cbfvgvba = qvz2(0, 2, 0, 2);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 0, 20);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	});

	ybpny hv_gvgyr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["GnubznObyq"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = gvgyr_ubyqre;
		OnpxtebhaqGenafcnerapl = 1;
		Fvmr = qvz2(1, 0, 1, 0);
		ObeqreFvmrCvkry = 0;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel.tenqvrag = yvoenel:perngr("HVTenqvrag", {
		Pbybe = etofrd{
			etoxrl(0, gurzrf.cerfrg["1"]), 
			etoxrl(0.5, gurzrf.cerfrg["2"]),
			etoxrl(1, gurzrf.cerfrg["3"]),
		};
		Cnerag = jvaqbj_bhgyvar
	});

	ybpny gno_ohggba_ubyqre = yvoenel:perngr("Senzr", {
		NapubeCbvag = irp2(0, 1);
		Cnerag = jvaqbj_bhgyvar;
		OnpxtebhaqGenafcnerapl = 0.800000011920929;
		Cbfvgvba = qvz2(0, 2, 1, -2);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 0, 20);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	}); pst.gno_ohggba_ubyqre = gno_ohggba_ubyqre

	yvoenel:perngr("HVYvfgYnlbhg", {
		IregvpnyNyvtazrag = Rahz.IregvpnyNyvtazrag.Pragre;
		SvyyQverpgvba = Rahz.SvyyQverpgvba.Ubevmbagny;
		UbevmbagnyNyvtazrag = Rahz.UbevmbagnyNyvtazrag.Pragre;
		UbevmbagnySyrk = Rahz.HVSyrkNyvtazrag.Svyy;
		Cnerag = gno_ohggba_ubyqre;
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre;
		IregvpnySyrk = Rahz.HVSyrkNyvtazrag.Svyy
	});
	--

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

shapgvba yvoenel:gno(cebcregvrf)
	ybpny pst = {
		anzr = cebcregvrf.anzr be "ivfhnyf", 
		pbhag = 0,
		ba_pyvpx = cebcregvrf.ba_pyvpx be shapgvba() raq,
	}

	-- Vafgnaprf 
	-- Gno Ohggba
	ybpny gno_ohggba = yvoenel:perngr("GrkgOhggba", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(170, 170, 170);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = frys.gno_ohggba_ubyqre;
		OnpxtebhaqGenafcnerapl = 1;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.KL;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	-- 

	-- Cntr
	ybpny Cntr = yvoenel:perngr("Senzr", {
		Cnerag = frys.znva_bhgyvar;
		OnpxtebhaqGenafcnerapl = 0.6;
		Cbfvgvba = qvz2(0, 2, 0, 24);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 1, -48);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0),
		Ivfvoyr = snyfr,
	}); pst.cntr = Cntr

	yvoenel:perngr("HVYvfgYnlbhg", {
		SvyyQverpgvba = Rahz.SvyyQverpgvba.Ubevmbagny;
		UbevmbagnySyrk = Rahz.HVSyrkNyvtazrag.Svyy;
		Cnerag = Cntr;
		Cnqqvat = qvz(0, 2);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre;
		IregvpnySyrk = Rahz.HVSyrkNyvtazrag.Svyy
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 2);
		CnqqvatObggbz = qvz(0, 2);
		Cnerag = Cntr;
		CnqqvatEvtug = qvz(0, 2);
		CnqqvatYrsg = qvz(0, 2)
	});
	-- 
	-- 

	shapgvba pst.bcra_gno() 
		ybpny fryrpgrq_gno = frys.fryrpgrq_gno

		vs fryrpgrq_gno gura 
			fryrpgrq_gno[1].Ivfvoyr = snyfr 
			fryrpgrq_gno[2].GrkgPbybe3 = eto(170, 170, 170)

			fryrpgrq_gno = avy 
		raq

		Cntr.Ivfvoyr = gehr
		gno_ohggba.GrkgPbybe3 = eto(255, 255, 255)

		frys.fryrpgrq_gno = {Cntr, gno_ohggba}
		
		pst.ba_pyvpx()
	raq
	
	shapgvba pst.punatr_ivfvovyvgl(frys, ivfvoyr)
		gno_ohggba.Ivfvoyr = ivfvoyr
	raq

	gno_ohggba.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		pst.bcra_gno()
	raq)

	vs abg frys.fryrpgrq_gno gura 
		pst.bcra_gno(gehr) 
	raq

	erghea frgzrgngnoyr(pst, yvoenel)    
raq 

ybpny abgvsvpngvbaf = {abgvsf = {}} 

yvoenel.fthv = yvoenel:perngr("FperraThv", {
	Anzr = "Uv",
	Cnerag = trguhv() 
})

shapgvba abgvsvpngvbaf:erserfu_abgvsf() 
	sbe v, i va abgvsvpngvbaf.abgvsf qb 
		ybpny Cbfvgvba = irp2(50, 50)
		gjrra_freivpr:Perngr(i, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {Cbfvgvba = qvz_bssfrg(Cbfvgvba.K, Cbfvgvba.L + (v * 30))}):Cynl()
	raq
raq

shapgvba abgvsvpngvbaf:snqr(cngu, vf_snqvat)
	ybpny snqvat = vf_snqvat naq 1 be 0 

	gjrra_freivpr:Perngr(cngu, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {OnpxtebhaqGenafcnerapl = snqvat}):Cynl()

	sbe _, vafgnapr va cngu:TrgQrfpraqnagf() qb 
		vs abg vafgnapr:VfN("ThvBowrpg") gura 
			vs vafgnapr:VfN("HVFgebxr") gura
				gjrra_freivpr:Perngr(vafgnapr, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {Genafcnerapl = snqvat}):Cynl()
			raq

			pbagvahr
		raq 

		vs vafgnapr:VfN("GrkgYnory") gura
			gjrra_freivpr:Perngr(vafgnapr, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {GrkgGenafcnerapl = snqvat}):Cynl()
		ryfrvs vafgnapr:VfN("Senzr") gura
			gjrra_freivpr:Perngr(vafgnapr, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {OnpxtebhaqGenafcnerapl = vafgnapr.Genafcnerapl naq 0.6 naq vf_snqvat naq 1 be 0.6}):Cynl()
		raq
	raq
raq 

shapgvba abgvsvpngvbaf:perngr_abgvsvpngvba(bcgvbaf)
	ybpny pst = {
		anzr = bcgvbaf.anzr be "Uvg: d3fz (svabor) va gur Urnq sbe 100 Qnzntr!",
		bhgyvar; 
	}

	-- Vafgnaprf
	ybpny bhgyvar = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.fthv;
		Cbfvgvba = qvz_bssfrg(-50, 50 + (#abgvsvpngvbaf.abgvsf * 30)); -- bevtva (qrcraqnag ba gur jngreznex cbfvgvba ea)
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 0, 0, 24);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny qnex = yvoenel:perngr("Senzr", {
		Cnerag = bhgyvar;
		OnpxtebhaqGenafcnerapl = 1;
		Cbfvgvba = qvz2(0, 2, 0, 2);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 1, -4);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 7);
		CnqqvatObggbz = qvz(0, 6);
		Cnerag = qnex;
		CnqqvatEvtug = qvz(0, 7);
		CnqqvatYrsg = qvz(0, 4)
	});

	yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = qnex;
		Fvmr = qvz2(0, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, -1);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	}); 

	yvoenel:perngr("HVTenqvrag", {
		Pbybe = etofrd{
			etoxrl(0, gurzrf.cerfrg["1"]), 
			etoxrl(0.5, gurzrf.cerfrg["2"]),
			etoxrl(1, gurzrf.cerfrg["3"]),
		};
		Cnerag = bhgyvar
	});
	-- 

	ybpny vaqrk = #abgvsvpngvbaf.abgvsf + 1
	abgvsvpngvbaf.abgvsf[vaqrk] = bhgyvar

	abgvsvpngvbaf:erserfu_abgvsf()
	gjrra_freivpr:Perngr(bhgyvar, GjrraVasb.arj(1, Rahz.RnfvatFglyr.Rkcbaragvny, Rahz.RnfvatQverpgvba.Bhg), {NapubeCbvag = irp2(0, 0)}):Cynl()

	abgvsvpngvbaf:snqr(bhgyvar, snyfr)

	gnfx.fcnja(shapgvba()
		gnfx.jnvg(3)

		abgvsvpngvbaf.abgvsf[vaqrk] = avy

		abgvsvpngvbaf:snqr(bhgyvar, gehr)

		gnfx.jnvg(3)

		bhgyvar:Qrfgebl() 
	raq)
raq

shapgvba yvoenel:jngreznex(bcgvbaf)
	ybpny pst = {
		anzr = bcgvbaf.anzr be "arohynunk";
	}

	-- Vafgnaprf
	ybpny bhgyvar = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.fthv;
		Cbfvgvba = qvz2(0, 50, 0, 50); 
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 0, 0, 24);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	}); yvoenel.jngreznex_bhgyvar = bhgyvar; yvoenel:qenttvsl(bhgyvar);

	ybpny qnex = yvoenel:perngr("Senzr", {
		Cnerag = bhgyvar;
		OnpxtebhaqGenafcnerapl = 0.6;
		Cbfvgvba = qvz2(0, 2, 0, 2);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 1, -4);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 7);
		CnqqvatObggbz = qvz(0, 6);
		Cnerag = qnex;
		CnqqvatEvtug = qvz(0, 7);
		CnqqvatYrsg = qvz(0, 4)
	});

	ybpny grkg_gvgyr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = qnex;
		Fvmr = qvz2(0, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, -1);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	}); 

	yvoenel:perngr("HVTenqvrag", {
		Pbybe = etofrd{
			etoxrl(0, gurzrf.cerfrg["1"]), 
			etoxrl(0.5, gurzrf.cerfrg["2"]),
			etoxrl(1, gurzrf.cerfrg["3"]),
		};
		Cnerag = bhgyvar
	});
	--

	shapgvba pst.hcqngr_grkg(grkg)
		grkg_gvgyr.Grkg = grkg
	raq

	pst.hcqngr_grkg(pst.anzr)

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

ybpny jngreznex = yvoenel:jngreznex({anzr = "cevi9 - 100 scf - 100 cvat"})
ybpny scf = 0
ybpny jngreznex_qrynl = gvpx() 

eha.EraqreFgrccrq:Pbaarpg(shapgvba()
	scf += 1

	vs gvpx() - jngreznex_qrynl > 1 gura 
		jngreznex_qrynl = gvpx()
		ybpny cvat = zngu.sybbe(fgngf.CresbeznaprFgngf.Cvat:TrgInyhr()) .. "zf"                
		jngreznex.hcqngr_grkg(fgevat.sbezng("cevi9 - scf: %f - cvat: %f", scf, cvat))
		scf = 0
	raq
raq)

        --[[
        	ybpny cvatGvzrFrp = tnzr.Cynlref.YbpnyCynlre:TrgArgjbexCvat()
	ybpny cvatGvzrZf = cvatGvzrFrp * 1000
	cvatYnory.Grkg = "Cvat: " .. gbfgevat(zngu.sybbe(cvatGvzrZf)) .. "zf"

	ybpny ernySCF = jbexfcnpr:TrgErnyCulfvpfSCF()
	scfYnory.Grkg = "SCF: " .. gbfgevat(zngu.sybbe(ernySCF))
        ]]

shapgvba yvoenel:pbyhza(cebcregvrf)
	frys.pbhag += 1

	ybpny pst = {pbybe = yvoenel.tenqvrag.Pbybe.Xrlcbvagf[frys.pbhag].Inyhr, pbhag = frys.pbhag} 

	ybpny fpebyyvat_senzr = yvoenel:perngr("FpebyyvatSenzr", {
		FpebyyOneVzntrPbybe3 = eto(0, 0, 0);
		Npgvir = gehr;
		NhgbzngvpPnainfFvmr = Rahz.NhgbzngvpFvmr.L;
		FpebyyOneGuvpxarff = 0;
		Cnerag = frys.cntr;
		YnlbhgBeqre = -1;
		OnpxtebhaqGenafcnerapl = 1;
		FpebyyOneVzntrGenafcnerapl = 1;
		ObeqrePbybe3 = eto(0, 0, 0);
		OnpxtebhaqPbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		PnainfFvmr = qvz2(0, 0, 0, 0)
	}); pst.pbyhza = fpebyyvat_senzr
	
	shapgvba pst:qrfgebl()
		fpebyyvat_senzr:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = fpebyyvat_senzr;
		Cnqqvat = qvz(0, 5);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});

	erghea frgzrgngnoyr(pst, yvoenel)            
raq 

shapgvba yvoenel:frpgvba(cebcregvrf)            
	ybpny pst = {
		anzr = cebcregvrf.anzr be cebcregvrf.Anzr be "frpgvba",
		fvmr = cebcregvrf.fvmr be 1, 
		nhgbsvyy = cebcregvrf.nhgb_svyy be snyfr,
		pbhag = frys.pbhag;
		pbybe = frys.pbybe;
	}

	-- Vafgnaprf
	ybpny npprag = yvoenel:perngr("Senzr", {
		Cnerag = frys.pbyhza;
		PyvcfQrfpraqnagf = gehr;
		ObeqrePbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(svyy, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3");
	
	shapgvba pst:qrfgebl()
		npprag:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	ybpny qnex = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		OnpxtebhaqGenafcnerapl = 0.6;
		Cbfvgvba = qvz2(0, 2, 0, 16);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -4, 1, -18);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	});

	ybpny ryrzragf = yvoenel:perngr("Senzr", {
		Cnerag = qnex;
		Cbfvgvba = qvz2(0, 4, 0, 5);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -8, 0, 0);
		OnpxtebhaqGenafcnerapl = 1;
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	}); pst.ryrzragf = ryrzragf

	vs pst.nhgbsvyy == snyfr gura 
		ryrzragf.NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		npprag.NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		npprag.Fvmr = qvz2(1, 0, 0, 0);

		ybpny HVCnqqvat = yvoenel:perngr("HVCnqqvat", {
			Cnerag = ryrzragf,
			Anzr = "",
			CnqqvatObggbz = qvz(0, 7)
		})
	ryfr 
		npprag.Fvmr = qvz2(1, 0, pst.fvmr, 0);
	raq

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = ryrzragf;
		Cnqqvat = qvz(0, 6);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});

	ybpny gvgyr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["GnubznObyq"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = npprag;
		Fvmr = qvz2(1, 0, 0, 0);
		Cbfvgvba = qvz2(0, 4, 0, 2);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = FpebyyvatSenzr;
		Cnqqvat = qvz(0, 5);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});
	--

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

-- Ryrzragf  
shapgvba yvoenel:gbttyr(bcgvbaf) 
	ybpny pst = {
		ranoyrq = bcgvbaf.ranoyrq be avy,
		anzr = bcgvbaf.anzr be "Gbttyr",
		synt = bcgvbaf.synt be gbfgevat(enaqbz(1,9999999)),

		qrsnhyg = bcgvbaf.qrsnhyg be snyfr,
		sbyqvat = bcgvbaf.sbyqvat be snyfr, 
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,

		pbybe = frys.pbybe;
		pbhag = frys.pbhag;
	}

	-- Vafgnaprf
	-- Ryrzrag
	ybpny gbttyr = yvoenel:perngr("GrkgOhggba", {
		Cnerag = frys.ryrzragf;
		OnpxtebhaqGenafcnerapl = 1;
		Grkg = "";
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 12);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	
	shapgvba pst:qrfgebl()
		gbttyr:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = gbttyr;
		Fvmr = qvz2(1, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, -1);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	}); 

	ybpny npprag = yvoenel:perngr("Senzr", {
		NapubeCbvag = irp2(1, 0);
		Cnerag = gbttyr;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 12, 0, 12);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3");    

	ybpny svyy = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(svyy, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3");                

	yvoenel:perngr("HVYvfgYnlbhg", {
		SvyyQverpgvba = Rahz.SvyyQverpgvba.Ubevmbagny;
		UbevmbagnyNyvtazrag = Rahz.UbevmbagnyNyvtazrag.Evtug;
		Cnerag = evtug_pbzcbaragf;
		Cnqqvat = qvz(0, 4);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});
	-- 

	-- Fho frpgvbaf
	ybpny ryrzragf;

	vs pst.sbyqvat gura
		ryrzragf = yvoenel:perngr("Senzr", {
			Cnerag = frys.ryrzragf;
			OnpxtebhaqGenafcnerapl = 1;
			Cbfvgvba = qvz2(0, 4, 0, 21);
			Fvmr = qvz2(1, 0, 0, 0);
			ObeqreFvmrCvkry = 0;
			Ivfvoyr = snyfr;
			NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
			OnpxtebhaqPbybe3 = eto(255, 255, 255)
		}); pst.ryrzragf = ryrzragf

		yvoenel:perngr("HVYvfgYnlbhg", {
			Cnerag = ryrzragf;
			Cnqqvat = qvz(0, 6);
			UbevmbagnyNyvtazrag = Rahz.UbevmbagnyNyvtazrag.Evtug;
			FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
		});                            
	raq 
	--      
	-- 

	-- Shapgvbaf
	shapgvba pst.frg(obby)                        
		svyy.OnpxtebhaqPbybe3 = obby naq gurzrf.cerfrg[gbfgevat(frys.pbhag)] be gurzrf.cerfrg.vayvar

		syntf[pst.synt] = obby

		pst.pnyyonpx(obby)

		vs pst.sbyqvat gura 
			ryrzragf.Ivfvoyr = obby
		raq
	raq 

	pst.frg(pst.qrsnhyg)

	pbasvt_syntf[pst.synt] = pst.frg
	-- 

	-- Pbaarpgvbaf
	gbttyr.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
		pst.ranoyrq = abg pst.ranoyrq 
		pst.frg(pst.ranoyrq)
	raq)
	-- 

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

shapgvba yvoenel:yvfg(bcgvbaf)
	ybpny pst = {
		pnyyonpx = bcgvbaf naq bcgvbaf.pnyyonpx be shapgvba() raq, 
		anzr = bcgvbaf.anzr be avy, 

		fpnyr = bcgvbaf.fvmr be 90, 
		vgrzf = bcgvbaf.vgrzf be {"1", "2", "3"}, 
		-- beqre = bcgvbaf.beqre be 1, 
		ivfvoyr = bcgvbaf.ivfvoyr be gehr,

		bcgvba_vafgnaprf = {}, 
		pheerag_vafgnapr = avy, 
		synt = bcgvbaf.synt be "FRG N SYNT H a", 
	}

	-- Ryrzragf
	ybpny npprag = yvoenel:perngr("Senzr", {
		ObeqrePbybe3 = eto(0, 0, 0);
		NapubeCbvag = irp2(1, 0);
		Cnerag = frys.ryrzragf;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		Fvmr = qvz2(1, 0, 0, pst.fpnyr);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")
	
	shapgvba pst:qrfgebl()
		npprag:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(35, 35, 35)
	}); yvoenel:nccyl_gurzr(vayvar, "vayvar", "OnpxtebhaqPbybe3")

	ybpny fpebyyvatsenzr = yvoenel:perngr("FpebyyvatSenzr", {
		FpebyyOneVzntrPbybe3 = eto(0, 0, 0);
		Npgvir = gehr;
		NhgbzngvpPnainfFvmr = Rahz.NhgbzngvpFvmr.L;
		FpebyyOneGuvpxarff = 0;
		Cnerag = vayvar;
		Fvmr = qvz2(1, 0, 1, 0);
		YnlbhgBeqre = -1;
		OnpxtebhaqGenafcnerapl = 1;
		FpebyyOneVzntrGenafcnerapl = 1;
		ObeqrePbybe3 = eto(0, 0, 0);
		OnpxtebhaqPbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		PnainfFvmr = qvz2(0, 0, 0, 0)
	});

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = fpebyyvatsenzr;
		Cnqqvat = qvz(0, 6);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 2);
		CnqqvatObggbz = qvz(0, 4);
		Cnerag = fpebyyvatsenzr;
		CnqqvatEvtug = qvz(0, 5);
		CnqqvatYrsg = qvz(0, 5)
	});
	-- 

	-- Shapgvbaf
	shapgvba pst.eraqre_bcgvba(grkg) 
		ybpny grkg = yvoenel:perngr("GrkgOhggba", {
			SbagSnpr = sbagf["CebttlPyrna"];
			GrkgPbybe3 = eto(170, 170, 170);
			ObeqrePbybe3 = eto(0, 0, 0);
			Grkg = grkg;
			NhgbOhggbaPbybe = snyfr;
			OnpxtebhaqGenafcnerapl = 1;
			Cnerag = fpebyyvatsenzr;
			ObeqreFvmrCvkry = 0;
			Fvmr = qvz2(1, 0, 0, 0);
			NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
			GrkgFvmr = 12;
			GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
			OnpxtebhaqPbybe3 = eto(255, 255, 255)
		}); 

		erghea grkg 
	raq 

	shapgvba pst.erserfu_bcgvbaf(bcgvbaf)
		sbe _, i va pst.bcgvba_vafgnaprf qb 
			i:Qrfgebl() 
		raq 

		sbe _, bcgvba va arkg, bcgvbaf qb 
			ybpny ohggba = pst.eraqre_bcgvba(bcgvba) 

			vafreg(pst.bcgvba_vafgnaprf, ohggba)

			ohggba.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
				vs pst.pheerag_vafgnapr naq pst.pheerag_vafgnapr ~= ohggba gura 
					pst.pheerag_vafgnapr.GrkgPbybe3 = eto(170, 170, 170)
				raq 

				pst.pheerag_vafgnapr = ohggba
				ohggba.GrkgPbybe3 = eto(255, 255, 255) 

				syntf[pst.synt] = ohggba.grkg

				pst.pnyyonpx(ohggba.grkg)
			raq)
		raq 
	raq

	shapgvba pst.svygre_bcgvbaf(grkg)
		sbe _, i va arkg, pst.bcgvba_vafgnaprf qb 
			vs fgevat.svaq(i.Grkg, grkg) gura 
				i.Ivfvoyr = gehr 
			ryfr 
				i.Ivfvoyr = snyfr
			raq
		raq
	raq

	shapgvba pst.frg(inyhr)
		sbe _, ohggbaf va arkg, pst.bcgvba_vafgnaprf qb 
			vs ohggbaf.Grkg == inyhr gura 
				ohggbaf.GrkgPbybe3 = eto(255, 255, 255) 
			ryfr 
				ohggbaf.GrkgPbybe3 = eto(170, 170, 170)
			raq 
		raq 

		syntf[pst.synt] = inyhr
		pst.pnyyonpx(inyhr)
	raq 

	pst.erserfu_bcgvbaf(pst.vgrzf) 
	-- 

	erghea frgzrgngnoyr(pst, yvoenel)
raq     

shapgvba yvoenel:fyvqre(bcgvbaf) 
	ybpny pst = {
		anzr = bcgvbaf.anzr be avy,
		fhssvk = bcgvbaf.fhssvk be "",
		synt = bcgvbaf.synt be gbfgevat(2^789),
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq, 

		zva = bcgvbaf.zva be bcgvbaf.zvavzhz be 0,
		znk = bcgvbaf.znk be bcgvbaf.znkvzhz be 100,
		vagreinyf = bcgvbaf.vagreiny be bcgvbaf.qrpvzny be 1,
		qrsnhyg = bcgvbaf.qrsnhyg be 10,
		inyhr = bcgvbaf.qrsnhyg be 10, 

		vtaber = bcgvbaf.vtaber be snyfr, 
		qenttvat = snyfr,
	} 

	-- Vafgnaprf 
	ybpny fyvqre = yvoenel:perngr("Senzr", {
		Cnerag = frys.ryrzragf;
		OnpxtebhaqGenafcnerapl = 1;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 25);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	shapgvba pst:qrfgebl()
		fyvqre:Qrfgebl()
		gnoyr.pyrne(pst)
	raq
	
	ybpny rrrrr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		EvpuGrkg = gehr;
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = "znk qvfgnapr : 5000";
		Cnerag = fyvqre;
		Fvmr = qvz2(1, 0, 0, 0);
		Cbfvgvba = qvz2(0, 1, 0, -2);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.KL;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny bhgyvar = yvoenel:perngr("GrkgOhggba", {
		Cnerag = fyvqre;
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Cbfvgvba = qvz2(0, 0, 0, 13);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 12);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(bhgyvar, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = bhgyvar;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(bhgyvar, "vayvar", "OnpxtebhaqPbybe3")

	ybpny npprag = yvoenel:perngr("Senzr", {
		Cnerag = vayvar;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0.5, 0, 1, 0);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")
	-- 

	-- Shapgvbaf 
	shapgvba pst.frg(inyhr)
		ybpny inyhrr = gbahzore(inyhr)

		vs inyhrr == avy gura 
			erghea 
		raq 

		pst.inyhr = pynzc(yvoenel:ebhaq(inyhrr, pst.vagreinyf), pst.zva, pst.znk)

		npprag.Fvmr = qvz2((pst.inyhr - pst.zva) / (pst.znk - pst.zva), 0, 1, 0)
		rrrrr.Grkg = pst.anzr ..  "<sbag pbybe='#NNNNNN'>" .. ' - ' .. gbfgevat(pst.inyhr) .. pst.fhssvk .. "</sbag>"

		syntf[pst.synt] = pst.inyhr

		pst.pnyyonpx(syntf[pst.synt])
	raq 

	pst.frg(pst.qrsnhyg)
	-- 

	-- Pbaarpgvbaf
	bhgyvar.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		pst.qenttvat = gehr 
	raq)

	yvoenel:pbaarpgvba(hvf.VachgPunatrq, shapgvba(vachg)
		vs pst.qenttvat naq vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrZbirzrag gura 
			ybpny fvmr_k = (vachg.Cbfvgvba.K - vayvar.NofbyhgrCbfvgvba.K) / vayvar.NofbyhgrFvmr.K
			ybpny inyhr = ((pst.znk - pst.zva) * fvmr_k) + pst.zva

			pst.frg(inyhr)
		raq
	raq)

	yvoenel:pbaarpgvba(hvf.VachgRaqrq, shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			pst.qenttvat = snyfr 
		raq 
	raq)
	-- 

	pst.frg(pst.qrsnhyg)

	pbasvt_syntf[pst.synt] = pst.frg

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

shapgvba yvoenel:qebcqbja(bcgvbaf) 
	ybpny pst = {
		anzr = bcgvbaf.anzr be avy,
		synt = bcgvbaf.synt be gbfgevat(enaqbz(1,9999999)),
		vgrzf = bcgvbaf.vgrzf be {""},
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,
		zhygv = bcgvbaf.zhygv be snyfr, 
		fpebyyvat = bcgvbaf.fpebyyvat be snyfr, 

		-- Vtaber gurfr 
		bcra = snyfr, 
		bcgvba_vafgnaprf = {}, 
		zhygv_vgrzf = {}, 
		vtaber = bcgvbaf.vtaber be snyfr, 
	}   

	pst.qrsnhyg = bcgvbaf.qrsnhyg be (pst.zhygv naq {pst.vgrzf[1]}) be pst.vgrzf[1] be "Abar"

	syntf[pst.synt] = {} 

	-- Vafgnaprf
	-- Ryrzrag 
	ybpny qebcqbja = yvoenel:perngr("Senzr", {
		Cnerag = frys.ryrzragf;
		OnpxtebhaqGenafcnerapl = 1;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	shapgvba pst:qrfgebl()
		qebcqbja:Qrfgebl()
		gnoyr.pyrne(pst)
	raq
	
	ybpny qebcqbja_ubyqre = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(1, 0);
		NhgbOhggbaPbybe = snyfr; 
		Grkg = "";
		Cnerag = qebcqbja;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0.5, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(qebcqbja_ubyqre, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = qebcqbja_ubyqre;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(35, 35, 35)
	});

	ybpny grkg = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = vayvar;
		Fvmr = qvz2(1, 0, 1, 0);
		OnpxtebhaqGenafcnerapl = 1;
		Cbfvgvba = qvz2(0, 0, 0, 1);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny gvgyr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = qebcqbja;
		Fvmr = qvz2(1, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, 0);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	-- 

	-- Ubyqre
	ybpny npprag = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.thv;
		Fvmr = qvz2(0.0907348021864891, 0, 0.006218905560672283, 20);
		Cbfvgvba = qvz2(0, 500, 0, 100);
		ObeqrePbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		Ivfvoyr = snyfr;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		OnpxtebhaqPbybe3 = frys.pbybe
	});	yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		Fvmr = qvz2(1, -2, 1, -2);
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	});	yvoenel:nccyl_gurzr(vayvar, "vayvar", "OnpxtebhaqPbybe3")

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = vayvar;
		Cnqqvat = qvz(0, 6);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 5);
		CnqqvatObggbz = qvz(0, 2);
		Cnerag = vayvar;
		CnqqvatEvtug = qvz(0, 6);
		CnqqvatYrsg = qvz(0, 6)
	});

	ybpny cnqqvat = yvoenel:perngr("HVCnqqvat", {
		CnqqvatObggbz = qvz(0, 2);
		Cnerag = npprag
	});
	--  
	-- 

	-- Shapgvbaf
	shapgvba pst.eraqre_bcgvba(grkg) 
		ybpny gvgyr = yvoenel:perngr("GrkgOhggba", {
			SbagSnpr = sbagf["CebttlPyrna"];
			NhgbOhggbaPbybe = snyfr;
			GrkgPbybe3 = eto(170, 170, 170);
			ObeqrePbybe3 = eto(0, 0, 0);
			Grkg = grkg;
			Cnerag = vayvar;
			Fvmr = qvz2(1, 0, 0, 0);
			Cbfvgvba = qvz2(0, 0, 0, 1);
			OnpxtebhaqGenafcnerapl = 1;
			GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
			ObeqreFvmrCvkry = 0;
			NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
			GrkgFvmr = 12;
			OnpxtebhaqPbybe3 = eto(255, 255, 255)
		});

		erghea gvgyr
	raq 

	shapgvba pst.frg_ivfvoyr(obby) 
		npprag.Ivfvoyr = obby
	raq

	shapgvba pst.frg(inyhr)
		ybpny fryrpgrq = {}
		ybpny vfGnoyr = glcr(inyhr) == "gnoyr"

		vs inyhr == avy gura 
			erghea 
		raq

		sbe _, bcgvba va arkg, pst.bcgvba_vafgnaprf qb 
			vs bcgvba.Grkg == inyhr be (vfGnoyr naq svaq(inyhr, bcgvba.Grkg)) gura 
				vafreg(fryrpgrq, bcgvba.Grkg)
				pst.zhygv_vgrzf = fryrpgrq
				bcgvba.GrkgPbybe3 = eto(255, 255, 255)
			ryfr
				bcgvba.GrkgPbybe3 = eto(170, 170, 170)
			raq
		raq

		grkg.Grkg = vs vfGnoyr gura pbapng(fryrpgrq, ", ") ryfr fryrpgrq[1]

		syntf[pst.synt] = vs vfGnoyr gura fryrpgrq ryfr fryrpgrq[1]

		pst.pnyyonpx(syntf[pst.synt]) 
	raq

	shapgvba pst.erserfu_bcgvbaf(yvfg) 
		sbe _, bcgvba va arkg, pst.bcgvba_vafgnaprf qb 
			bcgvba:Qrfgebl() 
		raq

		pst.bcgvba_vafgnaprf = {} 

		sbe _, bcgvba va arkg, yvfg qb 
			ybpny ohggba = pst.eraqre_bcgvba(bcgvba)

			vafreg(pst.bcgvba_vafgnaprf, ohggba)

			ohggba.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
				vs pst.zhygv gura 
					ybpny fryrpgrq_vaqrk = svaq(pst.zhygv_vgrzf, ohggba.Grkg)

					vs fryrpgrq_vaqrk gura 
						erzbir(pst.zhygv_vgrzf, fryrpgrq_vaqrk)
					ryfr
						vafreg(pst.zhygv_vgrzf, ohggba.Grkg)
					raq

					pst.frg(pst.zhygv_vgrzf) 				
				ryfr 
					pst.frg_ivfvoyr(snyfr)
					pst.bcra = snyfr 

					pst.frg(ohggba.Grkg)
				raq
			raq)
		raq
	raq

	pst.erserfu_bcgvbaf(pst.vgrzf)

	pst.frg(pst.qrsnhyg)

	pbasvt_syntf[pst.synt] = pst.frg
	-- 

	-- Pbaarpgvbaf 
	qebcqbja_ubyqre.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
		pst.bcra = abg pst.bcra 

		npprag.Fvmr = qvz2(0, qebcqbja_ubyqre.NofbyhgrFvmr.K, 0, npprag.Fvmr.L.Bssfrg)
		npprag.Cbfvgvba = qvz2(0, qebcqbja_ubyqre.NofbyhgrCbfvgvba.K, 0, qebcqbja_ubyqre.NofbyhgrCbfvgvba.L + 77)

		pst.frg_ivfvoyr(pst.bcra)
	raq)

	hvf.VachgRaqrq:Pbaarpg(shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			vs abg (yvoenel:zbhfr_va_senzr(npprag) be yvoenel:zbhfr_va_senzr(qebcqbja)) gura 
				pst.bcra = snyfr
				pst.frg_ivfvoyr(snyfr)
			raq
		raq
	raq)
	-- 

	erghea frgzrgngnoyr(pst, yvoenel)
raq 

shapgvba yvoenel:pbybecvpxre(bcgvbaf) 
	ybpny pst = {
		anzr = bcgvbaf.anzr be "Pbybe", 
		synt = bcgvbaf.synt be gbfgevat(2^789),

		pbybe = bcgvbaf.pbybe be pbybe(1, 1, 1), -- Qrsnhyg gb juvgr pbybe vs abg cebivqrq
		nycun = bcgvbaf.nycun naq 1 - bcgvbaf.nycun be 0,

		bcra = snyfr, 
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,
	}

	-- Vafgnaprf
	-- Ryrzrag
	ybpny pbybecvpxre_ryrzrag = yvoenel:perngr("GrkgOhggba", {
		Cnerag = frys.ryrzragf;
		OnpxtebhaqGenafcnerapl = 1;
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 12);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	
	shapgvba pst:qrfgebl()
		pbybecvpxre_ryrzrag:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	ybpny npprag = yvoenel:perngr("Senzr", {
		NapubeCbvag = irp2(1, 0);
		Cnerag = pbybecvpxre_ryrzrag;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 30, 0, 12);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny pbybecvpxre_ryrzrag_pbybe = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = pbybecvpxre_ryrzrag;
		Fvmr = qvz2(1, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, 0);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	-- 

	-- Ryrzragf
	ybpny pbybecvpxre = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.thv;
		Cbfvgvba = qvz2(0.6888179183006287, 0, 0.24751244485378265, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Ivfvoyr = snyfr;
		Fvmr = qvz2(0, 150, 0, 150);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	});	yvoenel:nccyl_gurzr(pbybecvpxre, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")


	ybpny n = yvoenel:perngr("Senzr", {
		Cnerag = pbybecvpxre;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 1, 0);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(n, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny r = yvoenel:perngr("Senzr", {
		Cnerag = n;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0);
		OnpxtebhaqGenafcnerapl = 0.6;
		MVaqrk = -1
	}); 

	ybpny _ = yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 7);
		CnqqvatObggbz = qvz(0, -13);
		Cnerag = r;
		CnqqvatEvtug = qvz(0, 6);
		CnqqvatYrsg = qvz(0, 7)
	});

	ybpny grkgobk_ubyqre = yvoenel:perngr("Senzr", {
		Cnerag = r;
		Cbfvgvba = qvz2(0, 0, 1, -36);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -1, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(grkgobk_ubyqre, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny grkgobk = yvoenel:perngr("GrkgObk", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = "";
		Cnerag = grkgobk_ubyqre;
		OnpxtebhaqGenafcnerapl = 0;
		PyrneGrkgBaSbphf = snyfr;
		CynprubyqrePbybe3 = eto(255, 255, 255);
		Fvmr = qvz2(1, -2, 1, -2);
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqreFvmrCvkry = 0;
		GrkgFvmr = 12;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Pragre;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(grkgobk, "vayvar", "OnpxtebhaqPbybe3")

	ybpny uhr_ohggba = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(1, 0);
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Cnerag = r;
		Cbfvgvba = qvz2(1, -1, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 14, 1, -60);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(uhr_ohggba, "vayvar", "OnpxtebhaqPbybe3")

	ybpny uhr_qent = yvoenel:perngr("Senzr", {
		Cnerag = uhr_ohggba;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("HVTenqvrag", {
		Ebgngvba = -90;
		Cnerag = uhr_qent;
		Pbybe = etofrd{etoxrl(0, eto(255, 0, 0)), etoxrl(0.17, eto(255, 255, 0)), etoxrl(0.33, eto(0, 255, 0)), etoxrl(0.5, eto(0, 255, 255)), etoxrl(0.67, eto(0, 0, 255)), etoxrl(0.83, eto(255, 0, 255)), etoxrl(1, eto(255, 0, 0))}
	});

	ybpny uhr_cvpxre = yvoenel:perngr("Senzr", {
		Cnerag = uhr_qent;
		ObeqreZbqr = Rahz.ObeqreZbqr.Vafrg;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 2, 0, 3);
		Cbfvgvba = qvz2(0, -1, 0, -1);
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny nycun_ohggba = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(0, 0.5);
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Cnerag = r;
		Cbfvgvba = qvz2(0, 0, 1, -48);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -1, 0, 14);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(nycun_ohggba, "vayvar", "OnpxtebhaqPbybe3")

	ybpny nycun_pbybe = yvoenel:perngr("Senzr", {
		Cnerag = nycun_ohggba;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 221, 255)
	});

	ybpny nycunvaq = yvoenel:perngr("VzntrYnory", {
		FpnyrGlcr = Rahz.FpnyrGlcr.Gvyr;
		ObeqrePbybe3 = eto(0, 0, 0);
		Cnerag = nycun_pbybe;
		Vzntr = "eoknffrgvq://18274452449";
		OnpxtebhaqGenafcnerapl = 1;
		Fvmr = qvz2(1, 0, 1, 0);
		GvyrFvmr = qvz2(0, 4, 0, 4);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("HVTenqvrag", {
		Cnerag = nycunvaq;
		Genafcnerapl = ahzfrd{ahzxrl(0, 0), ahzxrl(1, 1)}
	});

	ybpny nycun_cvpxre = yvoenel:perngr("Senzr", {
		Cnerag = nycun_pbybe;
		ObeqreZbqr = Rahz.ObeqreZbqr.Vafrg;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 3, 1, 2);
		Cbfvgvba = qvz2(0, -1, 0, -1);
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny fnghengvba_inyhr_ohggba = yvoenel:perngr("GrkgOhggba", {
		Cnerag = r;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -20, 1, -60);
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(fnghengvba_inyhr_ohggba, "vayvar", "OnpxtebhaqPbybe3")

	ybpny pbybecvpxre_pbybe = yvoenel:perngr("Senzr", {
		Cnerag = fnghengvba_inyhr_ohggba;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 221, 255)
	});

	ybpny iny = yvoenel:perngr("GrkgOhggba", {
		Cnerag = pbybecvpxre_pbybe;
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 1, 0);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("HVTenqvrag", {
		Cnerag = iny;
		Genafcnerapl = ahzfrd{ahzxrl(0, 0), ahzxrl(1, 1)}
	});

	ybpny fnghengvba_inyhr_cvpxre = yvoenel:perngr("Senzr", {
		Cnerag = pbybecvpxre_pbybe;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0, 3, 0, 3);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(0, 0, 0)
	});

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = fnghengvba_inyhr_cvpxre;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny fnghengvba_ohggba = yvoenel:perngr("GrkgOhggba", {
		Cnerag = pbybecvpxre_pbybe;
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Fvmr = qvz2(1, 0, 1, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		MVaqrk = 2;
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	yvoenel:perngr("HVTenqvrag", {
		Ebgngvba = 270;
		Genafcnerapl = ahzfrd{ahzxrl(0, 0), ahzxrl(1, 1)};
		Cnerag = fnghengvba_ohggba;
		Pbybe = etofrd{etoxrl(0, eto(0, 0, 0)), etoxrl(1, eto(0, 0, 0))}
	});


	-- 
	-- 

	-- Shapgvbaf 
	ybpny qenttvat_fng = snyfr 
	ybpny qenttvat_uhr = snyfr 
	ybpny qenttvat_nycun = snyfr 

	ybpny u, f, i = pst.pbybe:GbUFI() 
	ybpny n = pst.nycun 

	syntf[pst.synt] = {} 

	shapgvba pst.frg_ivfvoyr(obby) 
		pbybecvpxre.Ivfvoyr = obby

		pbybecvpxre.Cbfvgvba = qvz_bssfrg(pbybecvpxre_ryrzrag_pbybe.NofbyhgrCbfvgvba.K - 1, pbybecvpxre_ryrzrag_pbybe.NofbyhgrCbfvgvba.L + pbybecvpxre_ryrzrag_pbybe.NofbyhgrFvmr.L + 65)
	raq
	
	shapgvba pst.fubj_ryrzrag(obby)
		pbybecvpxre_ryrzrag.Ivfvoyr = obby
	raq

	shapgvba pst.frg(pbybe, nycun)
		vs pbybe gura
			u, f, i = pbybe:GbUFI()
		raq

		vs nycun gura 
			n = nycun
		raq 

		ybpny Pbybe = Pbybe3.sebzUFI(u, f, i)

		uhr_cvpxre.Cbfvgvba = qvz2(0, -1, 1 - u, -1)
		nycun_cvpxre.Cbfvgvba = qvz2(1 - n, -1, 0, -1)
		fnghengvba_inyhr_cvpxre.Cbfvgvba = qvz2(f, -1, 1 - i, -1)

		--ryrzrag_nycun.VzntrGenafcnerapl = 1 - n

		nycun_pbybe.OnpxtebhaqPbybe3 = Pbybe3.sebzUFI(u, 1, 1)
		pbybecvpxre_ryrzrag_pbybe.OnpxtebhaqPbybe3 = Pbybe
		pbybecvpxre_pbybe.OnpxtebhaqPbybe3 = Pbybe3.sebzUFI(u, 1, 1)

		syntf[pst.synt] = {
			Pbybe = Pbybe;
			Genafcnerapl = n 
		}

		ybpny pbybe = pbybecvpxre_ryrzrag_pbybe.OnpxtebhaqPbybe3
		grkgobk.Grkg = fgevat.sbezng("%f, %f, %f, ", yvoenel:ebhaq(pbybe.E * 255), yvoenel:ebhaq(pbybe.T * 255), yvoenel:ebhaq(pbybe.O * 255))
		grkgobk.Grkg ..= yvoenel:ebhaq(1 - n, 0.01)

		pst.pnyyonpx(Pbybe, n)
	raq

	shapgvba pst.hcqngr_pbybe() 
		ybpny zbhfr = hvf:TrgZbhfrYbpngvba() 
		ybpny bssfrg = irp2(zbhfr.K, zbhfr.L - thv_bssfrg) 

		vs qenttvat_fng gura	
			f = zngu.pynzc((bssfrg - fnghengvba_inyhr_ohggba.NofbyhgrCbfvgvba).K / fnghengvba_inyhr_ohggba.NofbyhgrFvmr.K, 0, 1)
			i = 1 - zngu.pynzc((bssfrg - fnghengvba_inyhr_ohggba.NofbyhgrCbfvgvba).L / fnghengvba_inyhr_ohggba.NofbyhgrFvmr.L, 0, 1)
		ryfrvs qenttvat_uhr gura
			u = 1 - zngu.pynzc((bssfrg - uhr_ohggba.NofbyhgrCbfvgvba).L / uhr_ohggba.NofbyhgrFvmr.L, 0, 1)
		ryfrvs qenttvat_nycun gura
			n = 1 - zngu.pynzc((bssfrg - nycun_ohggba.NofbyhgrCbfvgvba).K / nycun_ohggba.NofbyhgrFvmr.K, 0, 1)
		raq

		pst.frg(avy, avy)
	raq

	pst.frg(pst.pbybe, pst.nycun)

	pbasvt_syntf[pst.synt] = pst.frg
	-- 

	-- Pbaarpgvbaf 
	pbybecvpxre_ryrzrag.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
		pst.bcra = abg pst.bcra 

		pst.frg_ivfvoyr(pst.bcra)            
	raq)

	hvf.VachgPunatrq:Pbaarpg(shapgvba(vachg)
		vs (qenttvat_fng be qenttvat_uhr be qenttvat_nycun) naq vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrZbirzrag gura
			pst.hcqngr_pbybe() 
		raq
	raq)

	yvoenel:pbaarpgvba(hvf.VachgRaqrq, shapgvba(vachg)
		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			qenttvat_fng = snyfr
			qenttvat_uhr = snyfr
			qenttvat_nycun = snyfr  

			vs abg (yvoenel:zbhfr_va_senzr(pbybecvpxre_ryrzrag) be yvoenel:zbhfr_va_senzr(pbybecvpxre)) gura 
				pst.bcra = snyfr
				pst.frg_ivfvoyr(snyfr)
			raq
		raq
	raq)

	nycun_ohggba.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		qenttvat_nycun = gehr 
	raq)

	uhr_ohggba.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		qenttvat_uhr = gehr 
	raq)

	fnghengvba_ohggba.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		qenttvat_fng = gehr  
	raq)

	grkgobk.SbphfYbfg:Pbaarpg(shapgvba()
		ybpny e, t, o, n = yvoenel:pbaireg(grkgobk.Grkg)

		vs e naq t naq o naq n gura 
			pst.frg(eto(e, t, o), 1 - n)
		raq 
	raq)
	-- 

	erghea frgzrgngnoyr(pst, yvoenel)
raq

shapgvba yvoenel:grkgobk(bcgvbaf) 
	ybpny pst = {
		anzr = bcgvbaf.anzr be "...",
		cynprubyqre = bcgvbaf.cynprubyqre be bcgvbaf.cynprubyqregrkg be bcgvbaf.ubyqre be bcgvbaf.ubyqregrkg be "glcr urer...",
		qrsnhyg = bcgvbaf.qrsnhyg,
		synt = bcgvbaf.synt be "FRG ZR enje",
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,
		ivfvoyr = bcgvbaf.ivfvoyr be gehr,
	}

	-- Vafgnaprf 
	ybpny senzr = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(1, 0);
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Cnerag = frys.ryrzragf;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(senzr, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny senzr_vayvar = yvoenel:perngr("Senzr", {
		Cnerag = senzr;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(senzr_vayvar, "vayvar", "OnpxtebhaqPbybe3")

	ybpny vachg = yvoenel:perngr("GrkgObk", {
		Cnerag = senzr,
		Anzr = "",
		SbagSnpr = sbagf["CebttlPyrna"],
		GrkgGehapngr = Rahz.GrkgGehapngr.NgRaq,
		GrkgFvmr = 12,
		Fvmr = qvz2(1, -6, 1, 0),
		EvpuGrkg = gehr,
		GrkgPbybe3 = eto(255, 255, 255),
		ObeqrePbybe3 = eto(0, 0, 0),
		PhefbeCbfvgvba = -1,
		OnpxtebhaqGenafcnerapl = 1,
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg,
		Cbfvgvba = qvz2(0, 6, 0, 0),
		ObeqreFvmrCvkry = 0,
		CynprubyqrePbybe3 = eto(170, 170, 170),
	})
	-- 

	-- Shapgvbaf
	shapgvba pst:qrfgebl()
		senzr:Qrfgebl()
		gnoyr.pyrne(pst)
	raq
	
	shapgvba pst.frg(grkg) 
		syntf[pst.synt] = grkg

		vachg.Grkg = grkg

		pst.pnyyonpx(grkg)
	raq 

	pbasvt_syntf[pst.synt] = pst.frg

	vs pst.qrsnhyg gura 
		pst.frg(pst.qrsnhyg) 
	raq
	--

	-- Pbaarpgvbaf 
	vachg:TrgCebcreglPunatrqFvtany("Grkg"):Pbaarpg(shapgvba()
		pst.frg(vachg.Grkg) 
	raq)
	-- 

	erghea frgzrgngnoyr(pst, yvoenel)
raq 


shapgvba yvoenel:xrlovaq(bcgvbaf) 
	ybpny pst = {
		synt = bcgvbaf.synt be "FRG ZR N SYNT ABJJJ!!!!",
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,
		bcra = snyfr,
		ovaqvat = avy, 
		anzr = bcgvbaf.anzr be avy, 
		vtaber_xrl = bcgvbaf.vtaber be snyfr, 

		xrl = bcgvbaf.xrl be avy, 
		zbqr = bcgvbaf.zbqr be "gbttyr",
		npgvir = bcgvbaf.qrsnhyg be snyfr, 

		ubyq_vafgnaprf = {},
	}

	syntf[pst.synt] = {} 

	-- Vafgnaprf
	-- Ryrzrag 
	ybpny xrlovaq = yvoenel:perngr("Senzr", {
		Cnerag = frys.ryrzragf;
		OnpxtebhaqGenafcnerapl = 1;
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	
	shapgvba pst:qrfgebl()
		xrlovaq:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	ybpny xrlovaq_ubyqre = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(1, 0);
		NhgbOhggbaPbybe = snyfr; 
		Grkg = "";
		Cnerag = xrlovaq;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(0.5, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = xrlovaq_ubyqre;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = eto(35, 35, 35)
	});

	ybpny grkg = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = vayvar;
		Fvmr = qvz2(1, 0, 1, 0);
		OnpxtebhaqGenafcnerapl = 1;
		Cbfvgvba = qvz2(0, 0, 0, -1);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});

	ybpny gvgyr = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = xrlovaq;
		Fvmr = qvz2(1, 0, 1, 0);
		Cbfvgvba = qvz2(0, 1, 0, 0);
		OnpxtebhaqGenafcnerapl = 1;
		GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	-- 

	-- Ubyqre
	ybpny npprag = yvoenel:perngr("Senzr", {
		Cnerag = yvoenel.thv;
		Ivfvoyr = snyfr;
		Fvmr = qvz2(0.0907348021864891, 0, 0.006218905560672283, 20);
		Cbfvgvba = qvz2(0, 500, 0, 100);
		ObeqrePbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		OnpxtebhaqPbybe3 = frys.pbybe
	});	yvoenel:nccyl_gurzr(npprag, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny vayvar = yvoenel:perngr("Senzr", {
		Cnerag = npprag;
		Fvmr = qvz2(1, -2, 1, -2);
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.L;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	});	yvoenel:nccyl_gurzr(vayvar, "vayvar", "OnpxtebhaqPbybe3")

	yvoenel:perngr("HVYvfgYnlbhg", {
		Cnerag = vayvar;
		Cnqqvat = qvz(0, 6);
		FbegBeqre = Rahz.FbegBeqre.YnlbhgBeqre
	});

	yvoenel:perngr("HVCnqqvat", {
		CnqqvatGbc = qvz(0, 5);
		CnqqvatObggbz = qvz(0, 2);
		Cnerag = vayvar;
		CnqqvatEvtug = qvz(0, 6);
		CnqqvatYrsg = qvz(0, 6)
	});

	ybpny cnqqvat = yvoenel:perngr("HVCnqqvat", {
		CnqqvatObggbz = qvz(0, 2);
		Cnerag = npprag
	});

	ybpny bcgvbaf = {"Ubyq", "Gbttyr", "Nyjnlf"}

	sbe _, i va bcgvbaf qb
		ybpny bcgvba = yvoenel:perngr("GrkgOhggba", {
			SbagSnpr = sbagf["CebttlPyrna"];
			GrkgPbybe3 = eto(170, 170, 170);
			ObeqrePbybe3 = eto(0, 0, 0);
			Grkg = i;
			Cnerag = vayvar;
			Cbfvgvba = qvz2(0, 0, 0, 1);
			OnpxtebhaqGenafcnerapl = 1;
			GrkgKNyvtazrag = Rahz.GrkgKNyvtazrag.Yrsg;
			ObeqreFvmrCvkry = 0;
			NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.KL;
			GrkgFvmr = 12;
			OnpxtebhaqPbybe3 = eto(255, 255, 255)
		}); pst.ubyq_vafgnaprf[i] = bcgvba

		bcgvba.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
			pst.frg(i)

			pst.frg_ivfvoyr(snyfr)

			pst.bcra = snyfr
		raq)
	raq
	--  
	--

	-- Shapgvbaf 
	shapgvba pst.zbqvsl_zbqr_pbybe(cngu) -- gf fb sevxva ghss 
		sbe _, i va pst.ubyq_vafgnaprf qb 
			i.GrkgPbybe3 = eto(170, 170, 170)
		raq

		vs pst.ubyq_vafgnaprf[cngu] gura 
			pst.ubyq_vafgnaprf[cngu].GrkgPbybe3 = eto(255, 255, 255)
		raq
	raq 

	shapgvba pst.frg_zbqr(zbqr) 
		pst.zbqr = zbqr 

		vs zbqr == "Nyjnlf" gura
			pst.frg(gehr)
		ryfrvs zbqr == "Ubyq" gura
			pst.frg(snyfr)
		raq

		syntf[pst.synt]["zbqr"] = zbqr
		pst.zbqvsl_zbqr_pbybe(zbqr)
	raq 

	shapgvba pst.frg(vachg)
		vs glcr(vachg) == "obbyrna" gura 
			ybpny __pnpurq = vachg 

			vs pst.zbqr == "Nyjnlf" gura 
				__pnpurq = gehr 
			raq 

			pst.npgvir = __pnpurq 
			pst.pnyyonpx(__pnpurq)
		ryfrvs gbfgevat(vachg):svaq("Rahz") gura 
			vachg = vachg.Anzr == "Rfpncr" naq "..." be vachg

			pst.xrl = vachg be "..."	

			pst.pnyyonpx(pst.npgvir be snyfr)
		ryfrvs svaq({"Gbttyr", "Ubyq", "Nyjnlf"}, vachg) gura 
			pst.frg_zbqr(vachg)

			vs vachg == "Nyjnlf" gura 
				pst.npgvir = gehr 
			raq 

			pst.pnyyonpx(pst.npgvir be snyfr)
		ryfrvs glcr(vachg) == "gnoyr" gura 
			vachg.xrl = glcr(vachg.xrl) == "fgevat" naq vachg.xrl ~= "..." naq yvoenel:pbaireg_rahz(vachg.xrl) be vachg.xrl

			vachg.xrl = vachg.xrl == Rahz.XrlPbqr.Rfpncr naq "..." be vachg.xrl
			pst.xrl = vachg.xrl be "..."

			pst.zbqr = vachg.zbqr be "Gbttyr"
			pst.frg_zbqr(vachg.zbqr)

			vs vachg.npgvir gura
				pst.npgvir = vachg.npgvir
			raq
		raq 

		syntf[pst.synt] = {
			zbqr = pst.zbqr,
			xrl = pst.xrl, 
			npgvir = pst.npgvir
		}

		ybpny _grkg = gbfgevat(pst.xrl) ~= "Rahzf" naq (xrlf[pst.xrl] be gbfgevat(pst.xrl):tfho("Rahz.", "")) be avy
		ybpny __grkg = _grkg naq (gbfgevat(_grkg):tfho("XrlPbqr.", ""):tfho("HfreVachgGlcr.", ""))

		grkg.Grkg = " ".. __grkg .." "

		-- vs xrlovaq_yvfg_grkg gura
		--     xrlovaq_yvfg_grkg.Grkg = "[ ".. __grkg  .." ] ".. pst.anzr ..":".. fgevat.ybjre(pst.zbqr) .."";
		--     xrlovaq_yvfg_grkg.Ivfvoyr = pst.npgvir
		-- raq
	raq

	shapgvba pst.frg_ivfvoyr(obby)
		npprag.Ivfvoyr = obby

		npprag.Fvmr = qvz2(0, xrlovaq_ubyqre.NofbyhgrFvmr.K, 0, npprag.Fvmr.L.Bssfrg)
		npprag.Cbfvgvba = qvz2(0, xrlovaq_ubyqre.NofbyhgrCbfvgvba.K, 0, xrlovaq_ubyqre.NofbyhgrCbfvgvba.L + 77)
	raq
	-- 

	-- Pbaarpgvbaf
	xrlovaq_ubyqre.ZbhfrOhggba1Qbja:Pbaarpg(shapgvba()
		gnfx.jnvg()
		grkg.Grkg = "..."	

		pst.ovaqvat = yvoenel:pbaarpgvba(hvf.VachgOrtna, shapgvba(xrlpbqr, tnzr_rirag)  
			pst.frg(xrlpbqr.XrlPbqr)

			pst.ovaqvat:Qvfpbaarpg() 
			pst.ovaqvat = avy
		raq)
	raq)

	xrlovaq_ubyqre.ZbhfrOhggba2Qbja:Pbaarpg(shapgvba()
		pst.bcra = abg pst.bcra 

		pst.frg_ivfvoyr(pst.bcra) 
	raq)

	yvoenel:pbaarpgvba(hvf.VachgOrtna, shapgvba(vachg, tnzr_rirag) 
		vs abg tnzr_rirag gura 
			vs vachg.XrlPbqr == pst.xrl gura 
				vs pst.zbqr == "Gbttyr" gura 
					pst.npgvir = abg pst.npgvir
					pst.frg(pst.npgvir)
				ryfrvs pst.zbqr == "Ubyq" gura 
					pst.frg(gehr)
				raq
			raq
		raq
	raq)

	yvoenel:pbaarpgvba(hvf.VachgRaqrq, shapgvba(vachg, tnzr_rirag) 
		vs tnzr_rirag gura 
			erghea 
		raq 

		ybpny fryrpgrq_xrl = vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.Xrlobneq naq vachg.XrlPbqr be vachg.HfreVachgGlcr

		vs fryrpgrq_xrl == pst.xrl gura
			vs pst.zbqr == "Ubyq" gura 
				pst.frg(snyfr)
			raq
		raq

		vs vachg.HfreVachgGlcr == Rahz.HfreVachgGlcr.ZbhfrOhggba1 gura
			vs abg (yvoenel:zbhfr_va_senzr(xrlovaq_ubyqre) be yvoenel:zbhfr_va_senzr(npprag)) gura 
				pst.bcra = snyfr
				pst.frg_ivfvoyr(snyfr)
			raq
		raq
	raq)
	--

	pbasvt_syntf[pst.synt] = pst.frg
	pst.frg({zbqr = pst.zbqr, npgvir = pst.npgvir, xrl = pst.xrl})

	erghea frgzrgngnoyr(pst, yvoenel)
raq

shapgvba yvoenel:ohggba(bcgvbaf) 
	ybpny pst = {
		anzr = bcgvbaf.anzr be "ohggba",
		pnyyonpx = bcgvbaf.pnyyonpx be shapgvba() raq,
	}

	-- Vafgnaprf 
	ybpny senzr = yvoenel:perngr("GrkgOhggba", {
		NapubeCbvag = irp2(1, 0);
		Grkg = "";
		NhgbOhggbaPbybe = snyfr;
		Cnerag = frys.ryrzragf;
		Cbfvgvba = qvz2(1, 0, 0, 0);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, 0, 0, 16);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = frys.pbybe
	}); yvoenel:nccyl_gurzr(senzr, gbfgevat(frys.pbhag), "OnpxtebhaqPbybe3")

	ybpny senzr_vayvar = yvoenel:perngr("Senzr", {
		Cnerag = senzr;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqrePbybe3 = eto(0, 0, 0);
		Fvmr = qvz2(1, -2, 1, -2);
		ObeqreFvmrCvkry = 0;
		OnpxtebhaqPbybe3 = gurzrf.cerfrg.vayvar
	}); yvoenel:nccyl_gurzr(senzr_vayvar, "vayvar", "OnpxtebhaqPbybe3")

	ybpny grkg = yvoenel:perngr("GrkgYnory", {
		SbagSnpr = sbagf["CebttlPyrna"];
		GrkgPbybe3 = eto(255, 255, 255);
		ObeqrePbybe3 = eto(0, 0, 0);
		Grkg = pst.anzr;
		Cnerag = senzr;
		Fvmr = qvz2(1, 0, 1, 0);
		OnpxtebhaqGenafcnerapl = 1;
		Cbfvgvba = qvz2(0, 1, 0, 1);
		ObeqreFvmrCvkry = 0;
		NhgbzngvpFvmr = Rahz.NhgbzngvpFvmr.K;
		GrkgFvmr = 12;
		OnpxtebhaqPbybe3 = eto(255, 255, 255)
	});
	-- 

	-- Pbaarpgvbaf 
	senzr.ZbhfrOhggba1Pyvpx:Pbaarpg(shapgvba()
		pst.pnyyonpx()
	raq)
	--
	
	shapgvba pst:qrfgebl()
		senzr:Qrfgebl()
		gnoyr.pyrne(pst)
	raq

	erghea frgzrgngnoyr(pst, yvoenel)
raq 
-- 
-- 
-- 

-- qbphzragngvba 
ybpny jvaqbj = yvoenel:jvaqbj({
	anzr = "cevi9",
})

abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "ybnqvat zrah..."})
abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "ybnqvat zbqhyrf..."})

ybpny entr = jvaqbj:gno({anzr = "entr"})
ybpny pbyhza = entr:pbyhza({})
ybpny pbyhza2 = entr:pbyhza({})
ybpny nvzobg = pbyhza:frpgvba({anzr = "nvzobg", nhgb_svyy = snyfr, fvmr = 0.3})
ybpny gnetrg_fryrpgvba = pbyhza:frpgvba({anzr = "gnetrg fryrpgvba", nhgb_svyy = snyfr, fvmr = 0.7})
ybpny nagvnvz = pbyhza2:frpgvba({anzr = "nagvnvz", nhgb_svyy = snyfr, fvmr = 0.3})
ybpny qrflap = pbyhza2:frpgvba({anzr = "qrflap", nhgb_svyy = snyfr, fvmr = 0.3})
qrflap:gbttyr({anzr = "ranoyrq", synt = "gbttyr_synt"})
qrflap:gbttyr({anzr = "irybpvgl oernxre", synt = "irybpvgl_oernxre"})
qrflap:gbttyr({anzr = "wbvag natyr", synt = "qrfverq_oernxre"})


ybpny yrtvg = jvaqbj:gno({anzr = "yrtvg"})
ybpny pbyhza = yrtvg:pbyhza({})
ybpny pbyhza2 = yrtvg:pbyhza({})
ybpny gevttreobg = pbyhza:frpgvba({anzr = "gevttreobg", nhgb_svyy = snyfr, fvmr = 0.3})

gevttreobg:gbttyr({anzr = "ranoyrq", synt = "gbttyr_synt"})
gevttreobg:gbttyr({anzr = "zntarg", synt = "zntarg_synt"})
gevttreobg:qebcqbja({
	anzr = "fnsrgl zrnfherf",
	synt = "gevttre_fnsr_syntf",
	vgrzf = {"nagv-csver", "nagv-syvpx"},
	zhygv = gehr,
	fpebyyvat = gehr
})
gevttreobg:fyvqre({anzr = "ernpgvba qrynl", zva = 10, znk = 1000, qrsnhyg = 400, vagreiny = 1, fhssvk = "zf", synt = "ernpgvba_qrynl"})
gevttreobg:fyvqre({anzr = "sver qrynl znk", zva = 10, znk = 1000, qrsnhyg = 50, vagreiny = 1, fhssvk = "zf", synt = "sver_qrynl"})
gevttreobg:gbttyr({anzr = "nhgb-erfbyire", synt = "erfbyir_yrtvg"})
gevttreobg:gbttyr({anzr = "uvgobk svk", synt = "uvgobk_svk"})

ybpny yrtvg_nagvnvz = pbyhza2:frpgvba({anzr = "nagvnvz", nhgb_svyy = snyfr, fvmr = 0.3})
yrtvg_nagvnvz:gbttyr({anzr = "ranoyrq", synt = "yrtvgnn_synt"})
yrtvg_nagvnvz:gbttyr({anzr = "iry (vqyr) oernxre", synt = "yrtvg_vqyr_oernxre"})
yrtvg_nagvnvz:gbttyr({anzr = "iry (jnyx) oernxre", synt = "yrtvg_jnyx_oernxre"})
yrtvg_nagvnvz:gbttyr({anzr = "iry (whzc) oernxre", synt = "yrtvg_whzc_oernxre"})
yrtvg_nagvnvz:gbttyr({anzr = "navzngvba qrflap (hafnsr)", synt = "navz qrflap"})

--[[
frpgvba:gbttyr({anzr = "ranoyrq", synt = "gbttyr_synt"})
frpgvba:xrlovaq({anzr = "nvz xrl"})
frpgvba:gbttyr({anzr = "fvyrag", synt = "gbttyr_synt"})
frpgvba:fyvqre({anzr = "fzbbgu", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})

frpgvba2:fyvqre({anzr = "sbi", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba2:fyvqre({anzr = "znk qvfgnapr", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba2:gbttyr({anzr = "gnetrg acpf", synt = "gbttyr_synt"})
frpgvba2:qebcqbja({anzr = "uvgobk", synt = "qvfgnapr_cevbevgl", vgrzf = {"urnq","purfg","yrtf"}, qrsnhyg = "urnq"})
frpgvba2:fyvqre({anzr = "uf nsgre k fubgf", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})

ybpny pbyhza = entr:pbyhza({})
ybpny frpgvba = pbyhza:frpgvba({anzr = "jrncba zbqvsvpngvbaf"})
ybpny frpgvba2 = pbyhza:frpgvba({anzr = "bgure"})
frpgvba:gbttyr({anzr = "ab-fcernq", synt = "gbttyr_synt"})
frpgvba:fyvqre({anzr = "erpbvy zhygvcyvre", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba:fyvqre({anzr = "ohyyrg guvpxarff", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba:fyvqre({anzr = "ohyyrg fcrrq", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})

ybpny pbyhza = entr:pbyhza({})
ybpny frpgvba = pbyhza:frpgvba({anzr = "jrncba zbqvsvpngvbaf"})
ybpny frpgvba2 = pbyhza:frpgvba({anzr = "bgure"})
frpgvba:gbttyr({anzr = "ab-fcernq", synt = "gbttyr_synt"})
frpgvba:fyvqre({anzr = "erpbvy zhygvcyvre", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba:fyvqre({anzr = "ohyyrg guvpxarff", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
frpgvba:fyvqre({anzr = "ohyyrg fcrrq", zva = 0, znk = 10, qrsnhyg = 10, vagreiny = 0.1, fhssvk = "", synt = "nop"})
]]
ybpny ivfhnyf = jvaqbj:gno({anzr = "ivfhnyf"})
ybpny pbyhza = ivfhnyf:pbyhza({})
ybpny frpgvba = pbyhza:frpgvba({anzr = "rarzl", fvmr = 0.3})
ybpny frys_frpbaqnel
frpgvba:gbttyr({anzr = "punzf", synt = "rarzl_punzf"})
frpgvba:gbttyr({anzr = "punzf navzngvba", synt = "rarzl_navzngrq", pnyyonpx = shapgvba()
	vs abg frys_frpbaqnel gura erghea raq
	frys_frpbaqnel.fubj_ryrzrag(syntf.rarzl_navzngrq)
raq,})
frpgvba:gbttyr({anzr = "rarzl bayl", synt = "rarzl_bayl"})
frpgvba:qebcqbja({
	anzr = "punzf zngrevny",
	synt = "punzf_rarzl_zngrevny",
	vgrzf = {"oerngur", "abezny"},
	zhygv = snyfr,
	fpebyyvat = gehr
})
frpgvba:pbybecvpxre({anzr = "cevznel pbybe", synt = "rarzl_cevznel_pbybe", pbybe = gurzrf.cerfrg["1"], nycun = 0})
frys_frpbaqnel = frpgvba:pbybecvpxre({anzr = "frpbaqnel pbybe", synt = "rarzl_frpbaqnel_pbybe", pbybe = gurzrf.cerfrg["3"], nycun = 0})
frys_frpbaqnel.fubj_ryrzrag(syntf.rarzl_navzngrq)
ybpny frpgvba = pbyhza:frpgvba({anzr = "jbeyq", fvmr = 0.3})
frpgvba:gbttyr({anzr = "qvfnoyr fxl", synt = "abfxl_jbeyq"})
--[[
frpgvba:gbttyr({anzr = "qvfnoyr rssrpgf", synt = "jbeyq_abrssrpgf"})
]]
frpgvba:qebcqbja({
	anzr = "avtugzbqr",
	synt = "jbeyq_avtugzbqr",
	vgrzf = {"bss", "shyyoevtug", "avtugzbqr"},
	zhygv = snyfr,
	fpebyyvat = gehr
})
--[[
frpgvba:qebcqbja({
	anzr = "cnegvpyrf",
	synt = "jbeyq_cnegvpyrf",
	vgrzf = {"bss", "nfu", "fabj"},
	zhygv = snyfr,
	fpebyyvat = gehr
})
]]
frpgvba:pbybecvpxre({anzr = "pbybe pbeerpgvba", synt = "jbeyq_pbybe_pbeerpgvba", pbybe = pbybe(1,1,1), nycun = 0})

ybpny pbyhza = ivfhnyf:pbyhza({})
ybpny frpgvba = pbyhza:frpgvba({anzr = "frys", fvmr = 0.3})
ybpny frys_frpbaqnel

frpgvba:gbttyr({anzr = "punzf", synt = "frys_punzf"})
frpgvba:gbttyr({anzr = "punzf navzngvba", synt = "frys_navzngrq", pnyyonpx = shapgvba()
	vs abg frys_frpbaqnel gura erghea raq
	frys_frpbaqnel.fubj_ryrzrag(syntf.frys_navzngrq)
raq,})
frpgvba:qebcqbja({
	anzr = "punzf zngrevny",
	synt = "punzf_frys_zngrevny",
	vgrzf = {"oerngur", "abezny"},
	zhygv = snyfr,
	fpebyyvat = gehr
})
frpgvba:pbybecvpxre({anzr = "cevznel pbybe", synt = "frys_cevznel_pbybe", pbybe = gurzrf.cerfrg["1"], nycun = 0})
frys_frpbaqnel = frpgvba:pbybecvpxre({anzr = "frpbaqnel pbybe", synt = "frys_frpbaqnel_pbybe", pbybe = gurzrf.cerfrg["3"], nycun = 0})
frys_frpbaqnel.fubj_ryrzrag(syntf.frys_navzngrq)
ybpny zvfp = jvaqbj:gno({anzr = "zvfp"})
ybpny yhn = jvaqbj:gno({anzr = "yhn"})
ybpny pbyhza = zvfp:pbyhza({})
ybpny pbyhza2 = zvfp:pbyhza({})
ybpny frpgvba = pbyhza:frpgvba({anzr = "zbirzrag", fvmr = 0.3})
frpgvba:qebcqbja({
	anzr = "fcvqre",
	synt = "fcvqre_zbqr_synt",
	vgrzf = {"bss", "fgngr", "irybpvgl", "ebgngvba", "whzcnatyr"},
	zhygv = snyfr,
	fpebyyvat = gehr
})
ybpny fcvqre_xrl = frpgvba:xrlovaq({anzr = "fcvqre xrl", synt = "fcvqrexrl"})
ybpny fcvqre_zva_urvtug = frpgvba:fyvqre({anzr = "fcvqre urvtug", zva = 1, znk = 15, qrsnhyg = 5, vagreiny = 1, fhssvk = "h", synt = "fcvqre_zva_urvtug"})
frpgvba:xrlovaq({anzr = "fcrrq", synt = "fcrrq"})
frpgvba:xrlovaq({anzr = "cunfr", synt = "cunfr"})
frpgvba:gbttyr({anzr = "fgensr (hafnsr)", synt = "fgensr_hafnsr"})
frpgvba:gbttyr({anzr = "vafgnag fgbc", synt = "vafgnfgbc"})
ybpny frpgvba = pbyhza:frpgvba({anzr = "bgure", fvmr = 0.3})
frpgvba:gbttyr({anzr = "hafnsr", synt = "hafnsr_synt"})
frpgvba:gbttyr({anzr = "rkcrevzragny np olcnff", synt = "olcnff_synt"})
ybpny frpgvba = pbyhza2:frpgvba({anzr = "yhn", fvmr = 0.3, ba_pyvpx = shapgvba()
	erserfu_yhnf()
raq})
ybpny yvfg = frpgvba:yvfg({anzr = "Yhn Fpevcgf", fvmr = 130, vgrzf = {}, ivfvoyr = gehr, synt = "yhn_fpevcgf"})
ybpny ybnqrq_yhnf, yhnf = {}, {}

erserfu_yhnf = shapgvba()
	ybpny bcgvbaf = {}
	
	sbe vqk, svyr va yvfgsvyrf(yvoenel.qverpgbel .. "/yhn") qb
		vs abg fgevat.zngpu(svyr :: fgevat, '.yhn') gura pbagvahr raq
		bcgvbaf[ #bcgvbaf + 1 ] = fgevat.tfho(fgevat.tfho(svyr :: fgevat, ".yhn", ''), 'cevi9/', '')
	raq
	
	yhnf = bcgvbaf
	yvfg.erserfu_bcgvbaf(bcgvbaf)
raq

ybpny shapgvba fgneg_yhn(yhn_anzr, fubhyq_ybnq)
	ybpny svyr = `{yvoenel.qverpgbel}/yhn/{yhn_anzr}.yhn`
	
	vs abg fubhyq_ybnq gura
		ybpny yhn = ybnqrq_yhnf[yhn_anzr]
		vs abg yhn gura erghea raq

		sbe _, eokPbaarpgvba va yhn["pbaarpgvbaf"] qb
			eokPbaarpgvba:Qvfpbaarpg()
		raq
		sbe _,vafgnapr va yhn["ryrzragf"] qb
			vafgnapr:qrfgebl()
		raq
		
		gnfx.pnapry(yhn.guernq)
		
		gnoyr.pyrne(yhn)
		ybnqrq_yhnf[yhn_anzr] = avy
		
		erghea
	raq
	
	ybpny fhpprff, fep = cpnyy(ernqsvyr, svyr)
	
	vs abg fhpprff gura
		abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "snvyrq gb ybnq yhn"})
	raq
	
	ybpny yhn_vafgnapr = {
		pbaarpgvbaf = {},
		ryrzragf = {},
		guernq = avy,
	}
	
	ybpny yhn_ncv = {
		hv = {
			pbyhza = shapgvba()
				ybpny pbyhza = yhn:pbyhza({})
				
				
				vafreg(yhn_vafgnapr.ryrzragf, pbyhza)
				
				erghea pbyhza
			raq,
			frpgvba = shapgvba(frys, pbyhza, frpgvba)
				ybpny frpgvba = pbyhza:frpgvba(frpgvba)
				
				vafreg(yhn_vafgnapr.ryrzragf, frpgvba)
				
				erghea frpgvba
			raq,
			puvyq = shapgvba(frys, frpgvba, puvyqAnzr, puvyqQngn)
				ybpny puvyq = frpgvba[puvyqAnzr](frpgvba, puvyqQngn)
				
				vafreg(yhn_vafgnapr.ryrzragf, puvyq)
				
				erghea puvyq
			raq,
			trg = shapgvba(vqk)
				erghea (glcrbs(vqk) == 'fgevat' naq syntf[vqk] be syntf[vqk.synt])
			raq,
		},
		abgvsvpngvba = {
			perngr = shapgvba(frys, qngn)
				abgvsvpngvbaf:perngr_abgvsvpngvba(qngn)
			raq,
		}
	}
	
	ybpny ybnqshap = ybnqfgevat(fep, `[cevi9::{yhn_anzr}]`)
	ybpny srai = trgsrai(ybnqshap)
	
	sbe anzr, inyhr va yhn_ncv qb
		srai[anzr] = inyhr
	raq
	
	yhn_vafgnapr.guernq = gnfx.fcnja(ybnqshap)
	
	ybnqrq_yhnf[yhn_anzr] = yhn_vafgnapr
raq

frpgvba:ohggba({ anzr = "erserfu", pnyyonpx = erserfu_yhnf })
frpgvba:ohggba({ anzr = "ybnq", pnyyonpx = shapgvba()
	vs abg svaq(yhnf, syntf.yhn_fpevcgf) gura
		erghea
	raq
	abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "ybnqvat yhn..."})
	fgneg_yhn(syntf.yhn_fpevcgf, gehr)
	
raq })
frpgvba:ohggba({ anzr = "haybnq", pnyyonpx = shapgvba()
	vs abg svaq(yhnf, syntf.yhn_fpevcgf) gura
		erghea
	raq
	fgneg_yhn(syntf.yhn_fpevcgf, snyfr)
raq })

erserfu_yhnf()

abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "ybnqrq purng"})

-- shapgvbaf

ybpny freivprf = frgzrgngnoyr({}, {
	__vaqrk = shapgvba(frys, g)
		erghea tnzr:TrgFreivpr(g:tfho("^%y", fgevat.hccre))
	raq,
})

-- vafg
cpnyy(tnzr.Qrfgebl, jbexfcnpr.PheeragPnzren:SvaqSvefgPuvyq("pbybepbeerpgvbaCevi"))
ybpny pbybepbeerpgvba = Vafgnapr.arj("PbybePbeerpgvbaRssrpg")

-- inef
ybpny ps, natyrf, guernq = PSenzr.arj, PSenzr.Natyrf, gnfx.fcnja
ybpny cnenzf = EnlpnfgCnenzf.arj()
ybpny ryncfrq_gvpxf = 0

-- ncv

ybpny zbirzrag
zbirzrag = {
	snfgynqqre = {
		purpx = shapgvba()
			ybpny pune = yc.Punenpgre
			vs abg pune gura erghea raq
			ybpny ebbgcneg = pune:SvaqSvefgPuvyq("UhznabvqEbbgCneg")
			vs abg ebbgcneg gura erghea raq
			vs hvf:VfXrlQbja(Rahz.XrlPbqr.Fcnpr) naq abg hvf:TrgSbphfrqGrkgObk() gura
				vs fcvqre_xrl.npgvir gura
					ybpny pragre = ebbgcneg.PSenzr
					ybpny fgneg = ebbgcneg.PSenzr * ps(0, fcvqre_zva_urvtug.inyhr, 0)
					ybpny sbejneq = fgneg * ps(0, 0, 1)
					cnenzf.SvygreQrfpraqnagfVafgnaprf = {pune}
					ybpny enlN = jbexfcnpr:Enlpnfg(fgneg.Cbfvgvba, fgneg.YbbxIrpgbe, cnenzf)
					ybpny enlO = jbexfcnpr:Enlpnfg(pragre.Cbfvgvba, pragre.YbbxIrpgbe, cnenzf)
					vs abg enlN be abg enlO gura erghea raq
					vs enlN.Vafgnapr ~= enlO.Vafgnapr gura
						erghea
					raq
					zbirzrag.fcvqre.zbqrf[syntf.fcvqre_zbqr_synt]()
				raq
			raq
		raq,
	},
	fcvqre = {
		zbqrf = {
			bss = shapgvba()

			raq,
			fgngr = shapgvba()
				ybpny uhz = yc.Punenpgre:SvaqSvefgPuvyqJuvpuVfN("Uhznabvq")
				uhz:PunatrFgngr(Rahz.UhznabvqFgngrGlcr.Whzcvat)
				uhz:PunatrFgngr(Rahz.UhznabvqFgngrGlcr.Pyvzovat)
				uhz:PunatrFgngr(Rahz.UhznabvqFgngrGlcr.Whzcvat)
			raq,
			irybpvgl = shapgvba()
				ybpny uhz = yc.Punenpgre:SvaqSvefgPuvyqJuvpuVfN("Uhznabvq")
				uhz.EbbgCneg.Irybpvgl = uhz.EbbgCneg.Irybpvgl + irp3(0, 6, 0)
			raq,
			ebgngvba = shapgvba()
				ybpny uhz = yc.Punenpgre:SvaqSvefgPuvyqJuvpuVfN("Uhznabvq")
				ybpny ryncfrq = zngu.sybbe(ryncfrq_gvpxf) % 3
				vs ryncfrq == 0 gura
					uhz.EbbgCneg.PSenzr = uhz.EbbgCneg.PSenzr * natyrf(enq(0), enq(45), enq(1))
					uhz:PunatrFgngr(Rahz.UhznabvqFgngrGlcr.Whzcvat)
				ryfrvs ryncfrq == 1 gura
					uhz.EbbgCneg.PSenzr = uhz.EbbgCneg.PSenzr * natyrf(enq(-45), enq(-45), enq(45))
				raq
				--cevag(ryncfrq)
			raq,
			whzcnatyr = shapgvba()
				ybpny uhz = yc.Punenpgre:SvaqSvefgPuvyqJuvpuVfN("Uhznabvq")
				ybpny ryncfrq = zngu.sybbe(ryncfrq_gvpxf) % 3
				vs ryncfrq == 0 gura
					uhz.EbbgCneg.PSenzr = uhz.EbbgCneg.PSenzr * natyrf(enq(-90), enq(45), enq(1))
					uhz:PunatrFgngr(Rahz.UhznabvqFgngrGlcr.Whzcvat)
				ryfrvs ryncfrq == 1 gura
					uhz.EbbgCneg.PSenzr = uhz.EbbgCneg.PSenzr * natyrf(enq(90), enq(-45), enq(0))
				raq
				--cevag(ryncfrq)
			raq,
		},
		purpx = shapgvba()
			ybpny pune = yc.Punenpgre
			vs abg pune gura erghea raq
			ybpny ebbgcneg = pune:SvaqSvefgPuvyq("UhznabvqEbbgCneg")
			vs abg ebbgcneg gura erghea raq
			vs hvf:VfXrlQbja(Rahz.XrlPbqr.Fcnpr) naq abg hvf:TrgSbphfrqGrkgObk() gura
				vs fcvqre_xrl.npgvir gura
					ybpny pragre = ebbgcneg.PSenzr
					ybpny fgneg = ebbgcneg.PSenzr * ps(0, fcvqre_zva_urvtug.inyhr, 0)
					ybpny sbejneq = fgneg * ps(0, 0, 1)
					cnenzf.SvygreQrfpraqnagfVafgnaprf = {pune}
					ybpny enlN = jbexfcnpr:Enlpnfg(fgneg.Cbfvgvba, fgneg.YbbxIrpgbe, cnenzf)
					ybpny enlO = jbexfcnpr:Enlpnfg(pragre.Cbfvgvba, pragre.YbbxIrpgbe, cnenzf)
					vs abg enlN be abg enlO gura erghea raq
					vs enlN.Vafgnapr ~= enlO.Vafgnapr gura
						erghea
					raq
					zbirzrag.fcvqre.zbqrf[syntf.fcvqre_zbqr_synt]()
				raq
			raq
		raq,
	}
}

cpnyy(tnzr.Qrfgebl, freivprf.pberThv:SvaqSvefgPuvyq("CEVI9PUNZF"))
cpnyy(tnzr.Qrfgebl,  yvtugvat:SvaqSvefgPuvyq("\233"))

ybpny fxl = Vafgnapr.arj("Fxl")
fxl.Anzr = "\233"
fxl.ZbbaGrkgherVq, fxl.FhaGrkgherVq = '', ''
fxl.FxlobkOx, fxl.FxlobkQa, fxl.FxlobkSg, fxl.FxlobkYs, fxl.FxlobkEg, fxl.FxlobkHc = 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097', 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097', 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097', 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097', 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097', 'uggc://jjj.eboybk.pbz/nffrg/?VQ=1361097'
ybpny punzfPbagnvare = Vafgnapr.arj("FperraThv", freivprf.pberThv) punzfPbagnvare.Anzr = "CEVI9PUNZF"
cynlref.CynlreErzbivat:Pbaarpg(shapgvba(cye)
	vs punzfPbagnvare:SvaqSvefgPuvyq(cye.Anzr) gura
		punzfPbagnvare:SvaqSvefgPuvyq(cye.Anzr):Qrfgebl()
	raq
raq)

ybpny punzf_shapgvbaf = {
	oerngur = shapgvba(zbqry, synt, pye, baFperra)
		ybpny oerngur_rssrpg = zngu.ngna(zngu.fva(gvpx() * 2)) * 2 / zngu.cv
		ybpny bhgyvar = punzfPbagnvare:SvaqSvefgPuvyq(zbqry.Anzr) be Vafgnapr.arj("Uvtuyvtug")
		ybpny qvfgnapr = (jbexfcnpr.PheeragPnzren.PSenzr.Cbfvgvba - zbqry:TrgCvibg().Cbfvgvba).Zntavghqr
		bhgyvar.SvyyPbybe, bhgyvar.BhgyvarPbybe = pye, pye
		bhgyvar.SvyyGenafcnerapl, bhgyvar.BhgyvarGenafcnerapl = 100 * oerngur_rssrpg * 0.01, 100 * oerngur_rssrpg * 0.01
		bhgyvar.SvyyGenafcnerapl, bhgyvar.BhgyvarGenafcnerapl = zngu.yrec(bhgyvar.SvyyGenafcnerapl, 1, zngu.pynzc(qvfgnapr / 400, 0, 1)), zngu.yrec(bhgyvar.BhgyvarGenafcnerapl, 1, zngu.pynzc(qvfgnapr / 400, 0, 1))
		bhgyvar.Anzr, bhgyvar.Ranoyrq = zbqry.Anzr, bhgyvar.BhgyvarGenafcnerapl < 1 be baFperra
		bhgyvar.Nqbearr, bhgyvar.Cnerag = zbqry, punzfPbagnvare
	raq,
	abezny = shapgvba(zbqry, synt, pye, baFperra)
		ybpny oerngur_rssrpg = zngu.ngna(zngu.fva(gvpx() * 2)) * 2 / zngu.cv
		ybpny bhgyvar = punzfPbagnvare:SvaqSvefgPuvyq(zbqry.Anzr) be Vafgnapr.arj("Uvtuyvtug")
		ybpny qvfgnapr = (jbexfcnpr.PheeragPnzren.PSenzr.Cbfvgvba - zbqry:TrgCvibg().Cbfvgvba).Zntavghqr
		bhgyvar.SvyyPbybe, bhgyvar.BhgyvarPbybe = pye, pye
		bhgyvar.SvyyGenafcnerapl, bhgyvar.BhgyvarGenafcnerapl = 0.5, 0.5
		bhgyvar.SvyyGenafcnerapl, bhgyvar.BhgyvarGenafcnerapl = zngu.yrec(0.5, 1, zngu.pynzc(qvfgnapr / 400, 0, 1)), zngu.yrec(bhgyvar.BhgyvarGenafcnerapl, 1, zngu.pynzc(qvfgnapr / 400, 0, 1))
		bhgyvar.Anzr, bhgyvar.Ranoyrq = zbqry.Anzr, bhgyvar.BhgyvarGenafcnerapl < 1 be baFperra
		bhgyvar.Cnerag, bhgyvar.Nqbearr = punzfPbagnvare, zbqry
	raq,
	zngrevny = shapgvba()
		
	raq,
}

ybpny shapgvba eraqre_punzf(zbqry, synt, pye, zng)
	vs abg zbqry gura erghea raq
	ybpny punzf_pbybe = pye be gurzrf.cerfrg["1"]:Yrec(gurzrf.cerfrg["3"], 0.5 + 0.5 * zngu.pbf(ryncfrq_gvpxf / 12))
	vs abg synt gura
		vs punzfPbagnvare:SvaqSvefgPuvyq(zbqry.Anzr) gura
			punzfPbagnvare:SvaqSvefgPuvyq(zbqry.Anzr):Qrfgebl()
		raq
	ryfr
		ybpny _, baFperra = jbexfcnpr.PheeragPnzren:JbeyqGbFperraCbvag(zbqry:TrgCvibg().Cbfvgvba)
		
		punzf_shapgvbaf[zng](zbqry, synt, punzf_pbybe, baFperra)
	raq
raq

ybpny shapgvba hcqngr_rfc()
	ybpny ybpnyGrnz = yc.GrnzPbybe
	ybpny g = syntf.frys_navzngrq naq 0.5 + 0.5 * zngu.pbf(ryncfrq_gvpxf / 12) be 0
	eraqre_punzf(yc.Punenpgre, syntf.frys_punzf, syntf.frys_cevznel_pbybe.Pbybe:Yrec(syntf.frys_frpbaqnel_pbybe.Pbybe, g), syntf.punzf_frys_zngrevny)

	sbe _,i va cynlref:TrgCynlref() qb
		vs i == yc gura
			pbagvahr
		raq
		ybpny vfRarzl = i.GrnzPbybe ~= ybpnyGrnz
		ybpny vfNpgvir = syntf.rarzl_punzf
		vs syntf.rarzl_bayl naq vfNpgvir gura
			vfNpgvir = vfRarzl
		raq
		ybpny g = syntf.rarzl_navzngrq naq 0.5 + 0.5 * zngu.pbf(ryncfrq_gvpxf / 12) be 0
		eraqre_punzf(i.Punenpgre, vfNpgvir, syntf.rarzl_cevznel_pbybe.Pbybe:Yrec(syntf.rarzl_frpbaqnel_pbybe.Pbybe, g), syntf.punzf_frys_zngrevny)
	raq
raq

ybpny tybony_funqbjf = yvtugvat.TybonyFunqbjf
ybpny shapgvba hcqngr_eraqre()
	vs abg pbybepbeerpgvba.Cnerag gura
		pbybepbeerpgvba = Vafgnapr.arj("PbybePbeerpgvbaRssrpg")
		pbybepbeerpgvba.Anzr = "pbybepbeerpgvbaCevi"
	raq

	pbybepbeerpgvba.Cnerag = jbexfcnpr.PheeragPnzren
	pbybepbeerpgvba.GvagPbybe = syntf.jbeyq_pbybe_pbeerpgvba.Pbybe
	
	fxl.Cnerag = syntf.abfxl_jbeyq naq yvtugvat be avy
	
	ybpny pnfr = syntf.jbeyq_avtugzbqr
	vs pnfr == "shyyoevtug" gura
		yvtugvat.TybonyFunqbjf = snyfr
		pbybepbeerpgvba.Oevtugarff = 0.1
	ryfrvs pnfr == "avtugzbqr" gura
		yvtugvat.TybonyFunqbjf = tybony_funqbjf
		pbybepbeerpgvba.Oevtugarff = -0.1
	ryfr
		yvtugvat.TybonyFunqbjf = tybony_funqbjf
		pbybepbeerpgvba.Oevtugarff = 0.0
	raq
raq

cpnyy(shapgvba()
	ybpny pstqngn = ernqsvyr(yvoenel.qverpgbel .. "/pbasvtf/qrsnhyg.pst")
	vs pstqngn naq glcrbs(pstqngn) == 'fgevat' gura
		yvoenel:ybnq_pbasvt(pstqngn)
	raq
raq)



trgtrai().pbaarpgvbaf = {}
ybpny pbasvt_jevgr_gvpx = gvpx()
gnoyr.vafreg(trgtrai().pbaarpgvbaf, tnzr:TrgFreivpr('EhaFreivpr').EraqreFgrccrq:Pbaarpg(shapgvba(qg)
	vs gvpx() - pbasvt_jevgr_gvpx >= 9 gura
		pbasvt_jevgr_gvpx = gvpx()
		jevgrsvyr(yvoenel.qverpgbel .. "/pbasvtf/qrsnhyg.pst", yvoenel:trg_pbasvt())
		abgvsvpngvbaf:perngr_abgvsvpngvba({anzr = "nhgbfnivat pbasvt..."})
	raq
	
	
	ybpny yhn_yra = 0
	sbe x va ybnqrq_yhnf qb
		yhn_yra += 1
	raq
	yhn:punatr_ivfvovyvgl(yhn_yra > 0)
	ryncfrq_gvpxf += qg * 60
	hcqngr_rfc()
	guernq(hcqngr_eraqre)
	zbirzrag.fcvqre:purpx()
raq))
